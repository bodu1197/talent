<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Copy/Paste Detector Report</title><link href="styles/tailwind.css" rel="stylesheet"><link href="styles/prism.css" rel="stylesheet"></head><body class="bg-gray-100"><header class="bg-white shadow py-4"><div class="container mx-auto px-4"><h1 class="text-3xl font-semibold text-gray-800">jscpd - copy/paste report</h1></div></header><main class="container mx-auto my-8 p-4 bg-white shadow rounded"><section class="mb-8" id="dashboard"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Dashboard</h2><div class="grid grid-cols-4 gap-4"><div class="bg-blue-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-blue-800 mb-2">Total Files</h3><span class="text-4xl font-bold text-blue-800">852</span></div><div class="bg-green-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-green-800 mb-2">Total Lines of Code</h3><span class="text-4xl font-bold text-green-800">112625</span></div><div class="bg-yellow-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-yellow-800 mb-2">Number of Clones</h3><span class="text-4xl font-bold text-yellow-800">288</span></div><div class="bg-red-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-red-800 mb-2">Duplicated Lines</h3><span class="text-4xl font-bold text-red-800">4000 (3.55%)</span></div></div></section><section class="mb-8" id="formats"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Formats with Duplications</h2><table class="w-full table-auto"><thead><tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal"><th class="py-3 px-6 text-left">Format</th><th class="py-3 px-6 text-left">Files</th><th class="py-3 px-6 text-left">Lines</th><th class="py-3 px-6 text-left">Clones</th><th class="py-3 px-6 text-left">Duplicated Lines</th><th class="py-3 px-6 text-left">Duplicated Tokens</th></tr></thead><tbody><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#javascript-clones">javascript</a></td><td class="py-3 px-6">302</td><td class="py-3 px-6">24631</td><td class="py-3 px-6">8</td><td class="py-3 px-6">508</td><td class="py-3 px-6">4009</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#tsx-clones">tsx</a></td><td class="py-3 px-6">355</td><td class="py-3 px-6">62477</td><td class="py-3 px-6">172</td><td class="py-3 px-6">2268</td><td class="py-3 px-6">18285</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#typescript-clones">typescript</a></td><td class="py-3 px-6">194</td><td class="py-3 px-6">25506</td><td class="py-3 px-6">108</td><td class="py-3 px-6">1224</td><td class="py-3 px-6">12530</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#css-clones">css</a></td><td class="py-3 px-6">1</td><td class="py-3 px-6">11</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr></tbody></table></section><section class="mb-8" id="txt-clones"><a name="javascript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">javascript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\PortfolioModal.test.tsx (Line 38:12 - Line 115:21), src\__tests__\unit\components\services\PortfolioModal.test.tsx (Line 8:4 - Line 80:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup39"><code class="language-javascript text-sm text-gray-800">} /&gt;);

    expect(screen.getByText('웹사이트 디자인 프로젝트')).toBeInTheDocument();
  });

  it('포트폴리오 설명을 렌더링한다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    expect(screen.getByText(/반응형 웹사이트 디자인입니다/)).toBeInTheDocument();
  });

  it('닫기 버튼이 렌더링된다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    expect(screen.getByLabelText('포트폴리오 닫기')).toBeInTheDocument();
  });

  it('닫기 버튼 클릭 시 onClose가 호출된다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    fireEvent.click(screen.getByLabelText('포트폴리오 닫기'));

    expect(mockOnClose).toHaveBeenCalledTimes(1);
  });

  it('배경 클릭 시 onClose가 호출된다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    fireEvent.click(screen.getByLabelText('모달 닫기'));

    expect(mockOnClose).toHaveBeenCalledTimes(1);
  });

  it('ESC 키 누르면 onClose가 호출된다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    fireEvent.keyDown(document, { key: 'Escape' });

    expect(mockOnClose).toHaveBeenCalledTimes(1);
  });

  it('썸네일 이미지를 렌더링한다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    expect(screen.getByAltText('웹사이트 디자인 프로젝트')).toBeInTheDocument();
  });

  it('추가 이미지들을 렌더링한다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    expect(screen.getByText('추가 이미지')).toBeInTheDocument();
    expect(screen.getByAltText('웹사이트 디자인 프로젝트 추가 이미지 1')).toBeInTheDocument();
    expect(screen.getByAltText('웹사이트 디자인 프로젝트 추가 이미지 2')).toBeInTheDocument();
  });

  it('프로젝트 URL 링크를 렌더링한다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    const projectLink = screen.getByRole('link', { name: /프로젝트 보기/ });
    expect(projectLink).toHaveAttribute('href', 'https://example.com/project');
    expect(projectLink).toHaveAttribute('target', '_blank');
  });

  it('태그들을 렌더링한다', () =&gt; {
    render(&lt;PortfolioModal portfolio={mockPortfolio} onClose={mockOnClose} /&gt;);

    expect(screen.getByText('#웹디자인')).toBeInTheDocument();
    expect(screen.getByText('#UI/UX')).toBeInTheDocument();
    expect(screen.getByText('#반응형')).toBeInTheDocument();
  });

  it('YouTube URL이 있으면 iframe을 렌더링한다', () =&gt; {
    const portfolioWithYoutube = {
      ...mockPortfolio,
      youtube_url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
    };

    render(&lt;PortfolioModal portfolio={portfolioWithYoutube</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\advertising\[orderId]\AdvertisingPaymentClient.tsx (Line 127:3 - Line 144:8), src\app\payment\direct\[orderId]\DirectPaymentClient.tsx (Line 185:7 - Line 202:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup82"><code class="language-javascript text-sm text-gray-800">}
      buyer={buyer}
      phoneInput={phoneInput}
      onPhoneChange={setPhoneInput}
      phoneInputId=&quot;buyer-phone&quot;
      selectedPaymentMethod={selectedPaymentMethod}
      easyPayProvider={easyPayProvider}
      isInternationalCard={isInternationalCard}
      onMethodChange={setSelectedPaymentMethod}
      onEasyPayProviderChange={setEasyPayProvider}
      onInternationalCardChange={setIsInternationalCard}
      agreedToTerms={agreedToTerms}
      agreedToPrivacy={agreedToPrivacy}
      onTermsChange={setAgreedToTerms}
      onPrivacyChange={setAgreedToPrivacy}
      onPayment={handlePayment}
      isProcessing={isProcessing}
      totalAmount={payment</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\services\SellerServicesClient.tsx (Line 397:27 - Line 488:86), src\app\mypage\seller\services\SellerServicesClient.tsx (Line 290:3 - Line 366:68)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup86"><code class="language-javascript text-sm text-gray-800">}
                          className=&quot;px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs&quot;
                        &gt;
                          확인
                        &lt;/button&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  )}
                &lt;/div&gt;

                {/* PC 레이아웃 (원래대로) */}
                &lt;div className=&quot;hidden lg:block&quot;&gt;
                  &lt;div className=&quot;flex&quot;&gt;
                    {/* 왼쪽 썸네일 */}
                    &lt;div className=&quot;w-48 h-32 bg-gray-100 flex items-center justify-center flex-shrink-0&quot;&gt;
                      {service.thumbnail_url ? (
                        &lt;img
                          src={service.thumbnail_url}
                          alt={service.title}
                          className=&quot;w-full h-full object-cover&quot;
                        /&gt;
                      ) : (
                        &lt;Image className=&quot;w-8 h-8 text-gray-400&quot; aria-hidden=&quot;true&quot; /&gt;
                      )}
                    &lt;/div&gt;

                    {/* 오른쪽 내용 */}
                    &lt;div className=&quot;flex-1 p-4 flex flex-col&quot;&gt;
                      &lt;div className=&quot;flex items-start justify-between mb-2 gap-4&quot;&gt;
                        &lt;h3 className=&quot;text-base font-semibold text-gray-900 flex-1 min-w-0 truncate&quot;&gt;
                          {service.title}
                        &lt;/h3&gt;
                        &lt;div className=&quot;flex gap-2 flex-shrink-0&quot;&gt;
                          {getStatusBadge(service.status)}
                          {service.hasPendingRevision &amp;&amp; (
                            &lt;span className=&quot;px-3 py-1.5 bg-orange-100 text-orange-800 rounded-full text-xs font-medium flex items-center gap-1&quot;&gt;
                              &lt;Hourglass className=&quot;w-3 h-3&quot; aria-hidden=&quot;true&quot; /&gt;
                              승인 대기중
                            &lt;/span&gt;
                          )}
                        &lt;/div&gt;
                      &lt;/div&gt;

                      {/* 통계 정보 */}
                      &lt;div className=&quot;flex items-center gap-4 text-sm text-gray-600 mb-3&quot;&gt;
                        &lt;span className=&quot;font-medium text-gray-900&quot;&gt;
                          {service.price?.toLocaleString()}원~
                        &lt;/span&gt;
                        &lt;span&gt;
                          &lt;Eye className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          {service.views || 0}
                        &lt;/span&gt;
                        &lt;span&gt;
                          &lt;Heart className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          {service.wishlist_count || 0}
                        &lt;/span&gt;
                        &lt;span&gt;
                          &lt;ShoppingCart className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          {service.orders_count || 0}
                        &lt;/span&gt;
                      &lt;/div&gt;

                      {/* 버튼 - 별도 행 */}
                      &lt;div className=&quot;flex gap-2 flex-wrap&quot;&gt;
                        &lt;Link
                          href={`/mypage/seller/services/${service.id}/edit`}
                          className=&quot;px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium&quot;
                        &gt;
                          &lt;Pencil className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          수정
                        &lt;/Link&gt;
                        &lt;Link
                          href={`/services/${service.id}`}
                          target=&quot;_blank&quot;
                          className=&quot;px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium&quot;
                        &gt;
                          &lt;Eye className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          보기
                        &lt;/Link&gt;
                        &lt;Link
                          href={`/mypage/seller/services/statistics?id=${service.id}`}
                          className=&quot;px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-[#1a4d8f] transition-colors text-sm font-medium&quot;
                        &gt;
                          &lt;BarChart3 className=&quot;w-4 h-4 mr-1 inline&quot; aria-hidden=&quot;true&quot; /&gt;
                          통계
                        &lt;/Link&gt;

                        {/* 활성화/일시정지 버튼 */}
                        {(service.status === 'active' || service.status === 'inactive') &amp;&amp; (
                          &lt;button
                            onClick={() =&gt; handleToggleStatus(service.id, service.status)}
                            className={`px-4 py-2 border rounded-lg transition-colors text-sm font-medium flex items-center </code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 302:23 - Line 386:2), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 310:14 - Line 395:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup90"><code class="language-javascript text-sm text-gray-800">${order.id}`}
        className=&quot;px-2 py-1 lg:px-4 lg:py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-light transition-colors text-xs lg:text-sm font-medium&quot;
      &gt;
        &lt;span className=&quot;lg:hidden&quot;&gt;상세&lt;/span&gt;
        &lt;span className=&quot;hidden lg:inline&quot;&gt;상세보기&lt;/span&gt;
      &lt;/Link&gt;
    );
  };

  const formatOrderData = (order: BuyerOrderListItem) =&gt; {
    return {
      id: order.id,
      orderNumber: order.order_number,
      title: order.title || order.service?.title || '제목 없음',
      thumbnailUrl: order.service?.thumbnail_url,
      sellerName: order.seller?.name,
      status: order.status,
      statusLabel: getOrderStatusLabel(order.status),
      statusColor: getOrderStatusColor(order.status, 'buyer'),
      price: order.total_amount,
      orderDate: formatOrderDate(order.created_at),
      expectedDeliveryDate: formatDeliveryDate(order.delivery_date || null),
      daysLeft: calculateDaysLeft(order.delivery_date || null),
      requirements: order.requirements,
    };
  };

  if (loading) {
    return (
      &lt;MypageLayoutWrapper mode=&quot;buyer&quot;&gt;
        &lt;div className=&quot;pt-2 pb-4 px-4 lg:py-8 lg:px-6&quot;&gt;
          &lt;LoadingSpinner message=&quot;주문 내역을 불러오는 중...&quot; /&gt;
        &lt;/div&gt;
      &lt;/MypageLayoutWrapper&gt;
    );
  }

  if (error) {
    return (
      &lt;MypageLayoutWrapper mode=&quot;buyer&quot;&gt;
        &lt;div className=&quot;pt-2 pb-4 px-4 lg:py-8 lg:px-6&quot;&gt;
          &lt;ErrorState message={error} retry={loadOrders} /&gt;
        &lt;/div&gt;
      &lt;/MypageLayoutWrapper&gt;
    );
  }

  return (
    &lt;MypageLayoutWrapper mode=&quot;buyer&quot;&gt;
      &lt;div className=&quot;pt-2 pb-4 px-4 lg:py-8 lg:px-6&quot;&gt;
        {/* 페이지 헤더 */}
        &lt;div className=&quot;mb-4 lg:mb-6&quot;&gt;
          &lt;h1 className=&quot;text-base lg:text-lg font-semibold text-gray-900&quot;&gt;주문 내역&lt;/h1&gt;
          &lt;p className=&quot;text-gray-600 mt-1 text-sm&quot;&gt;주문 내역을 확인하세요&lt;/p&gt;
        &lt;/div&gt;

        {/* 탭 네비게이션 */}
        &lt;OrdersTabNavigation
          tabs={tabs}
          activeStatus={filters.status}
          onStatusChange={(status) =&gt; setFilters({ ...filters, status })}
        /&gt;

        {/* 검색 및 필터 */}
        &lt;OrdersFilterPanel
          filters={filters}
          onFiltersChange={(newFilters) =&gt; setFilters({ ...newFilters, status: filters.status })}
          onReset={resetFilters}
          mode=&quot;buyer&quot;
        /&gt;

        {/* 결과 카운트 */}
        &lt;div className=&quot;mb-4 text-sm text-gray-600&quot;&gt;
          총 &lt;span className=&quot;font-semibold text-gray-900&quot;&gt;{filteredOrders.length}&lt;/span&gt; 건의 주문
        &lt;/div&gt;

        {/* 주문 목록 */}
        &lt;div className=&quot;space-y-4&quot;&gt;
          {filteredOrders.length &gt; 0 ? (
            filteredOrders.map((order) =&gt; (
              &lt;OrderCard
                key={order.id}
                order={formatOrderData(order)}
                mode=&quot;buyer&quot;
                actions={getActionButtons(order)}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\dashboard\BuyerDashboardClient.tsx (Line 258:2 - Line 356:5), src\app\mypage\buyer\dashboard\BuyerDashboardClient.tsx (Line 206:3 - Line 273:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup98"><code class="language-javascript text-sm text-gray-800">}
                            className=&quot;px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-xs font-medium&quot;
                          &gt;
                            메시지
                          &lt;/Link&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;

                    {/* PC 레이아웃 */}
                    &lt;div className=&quot;hidden lg:block p-4&quot;&gt;
                      &lt;div className=&quot;flex gap-4&quot;&gt;
                        &lt;div className=&quot;w-20 h-20 bg-gray-100 rounded-lg flex-shrink-0 flex items-center justify-center overflow-hidden&quot;&gt;
                          {order.service?.thumbnail_url ? (
                            &lt;img
                              src={order.service.thumbnail_url}
                              alt={order.title || order.service.title}
                              className=&quot;w-full h-full object-cover&quot;
                            /&gt;
                          ) : (
                            &lt;ImageIcon className=&quot;w-6 h-6 text-gray-400&quot; /&gt;
                          )}
                        &lt;/div&gt;
                        &lt;div className=&quot;flex-1&quot;&gt;
                          &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;
                            &lt;span className=&quot;text-sm text-gray-500&quot;&gt;
                              #{order.order_number || order.id.slice(0, 8)}
                            &lt;/span&gt;
                            &lt;span className=&quot;text-sm font-semibold text-gray-900&quot;&gt;
                              {order.title || order.service?.title}
                            &lt;/span&gt;
                          &lt;/div&gt;
                          &lt;div className=&quot;text-sm text-gray-600 mb-2&quot;&gt;
                            전문가: {order.seller?.name || '전문가'}
                          &lt;/div&gt;
                          &lt;div className=&quot;flex items-center gap-3 mb-3&quot;&gt;
                            &lt;span
                              className={`px-2 py-0.5 rounded-full text-xs font-medium ${
                                order.status === 'delivered'
                                  ? 'bg-red-100 text-red-700'
                                  : 'bg-yellow-100 text-yellow-700'
                              }`}
                            &gt;
                              {getStatusLabel(order.status)}
                            &lt;/span&gt;
                            {daysLeft &amp;&amp; (
                              &lt;span className=&quot;text-sm text-gray-600&quot;&gt;D-{daysLeft}일&lt;/span&gt;
                            )}
                            &lt;span className=&quot;text-sm font-semibold text-gray-900&quot;&gt;
                              {order.total_amount?.toLocaleString() || '0'}원
                            &lt;/span&gt;
                          &lt;/div&gt;
                          &lt;div className=&quot;flex items-center gap-2&quot;&gt;
                            &lt;Link
                              href={`/mypage/buyer/orders/${order.id}`}
                              className=&quot;px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-[#0a2540] transition-colors text-sm font-medium&quot;
                            &gt;
                              {order.status === 'delivered' ? '확인하기' : '상세보기'}
                            &lt;/Link&gt;
                            &lt;Link
                              href={`/chat?order=${order.id}`}
                              className=&quot;px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium&quot;
                            &gt;
                              메시지
                            &lt;/Link&gt;
                          &lt;/div&gt;
                        &lt;/div&gt;
                      &lt;/div&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                );
              })}
            &lt;/div&gt;
          ) : (
            &lt;div className=&quot;bg-white rounded-lg shadow p-6 text-center&quot;&gt;
              &lt;p className=&quot;text-gray-500&quot;&gt;진행중인 주문이 없습니다&lt;/p&gt;
            &lt;/div&gt;
          )}
        &lt;/div&gt;

        {/* 최근 찜한 서비스 */}
        &lt;div className=&quot;flex items-center justify-between mb-3&quot;&gt;
          &lt;h2 className=&quot;text-sm lg:text-base font-semibold text-gray-900 flex items-center gap-2&quot;&gt;
            &lt;Heart className=&quot;w-4 h-4 text-red-500 fill-current&quot; /&gt;
            최근 찜한 서비스
          &lt;/h2&gt;
          &lt;Link
            href=&quot;/mypage/buyer/favorites&quot;
            className=&quot;text-xs text-brand-primary hover:underline flex items-center gap-1&quot;
          &gt;
            전체 보기 &lt;ArrowRight className=&quot;w-3 h-3&quot; /&gt;
          &lt;/Link&gt;
        &lt;/div&gt;
        &lt;div&gt;
          {favorites.length &gt; 0 ? (
            &lt;div className=&quot;space-y-2&quot;&gt;
              {favorites.map((item) =&gt; (
                &lt;Link
                  key={item</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 99:8 - Line 126:9), src\app\errands\mypage\helper\settings\page.tsx (Line 143:8 - Line 169:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup99"><code class="language-javascript text-sm text-gray-800">={profile}
              userEmail={user?.email}
              name={settings.name}
              phone={settings.phone}
              onNameChange={(value) =&gt; setSettings({ ...settings, name: value })}
              onPhoneChange={(value) =&gt; setSettings({ ...settings, phone: value })}
              idPrefix=&quot;user&quot;
            /&gt;

            {/* 기본 배달 주소 */}
            &lt;div className=&quot;bg-white rounded-xl shadow-sm overflow-hidden&quot;&gt;
              &lt;div className=&quot;p-4 border-b border-gray-100&quot;&gt;
                &lt;h2 className=&quot;font-bold text-gray-900&quot;&gt;배달 설정&lt;/h2&gt;
              &lt;/div&gt;
              &lt;div className=&quot;p-4&quot;&gt;
                &lt;div&gt;
                  &lt;label
                    htmlFor=&quot;user-default-address&quot;
                    className=&quot;block text-sm font-medium text-gray-700 mb-1&quot;
                  &gt;
                    기본 배달 주소
                  &lt;/label&gt;
                  &lt;div className=&quot;relative&quot;&gt;
                    &lt;MapPin className=&quot;absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400&quot; /&gt;
                    &lt;input
                      id=&quot;user-default-address&quot;
                      type=&quot;text&quot;
                      value={settings</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\errands\ErrandMypageLayout.tsx (Line 333:9 - Line 393:80), src\components\errands\ErrandMypageLayout.tsx (Line 239:2 - Line 306:62)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn270" onclick="toggleCodeBlock('cloneGroup270', 'expandBtn270', 'collapseBtn270')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn270" onclick="toggleCodeBlock('cloneGroup270', 'expandBtn270', 'collapseBtn270')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup270"><code class="language-javascript text-sm text-gray-800">}
                onItemClick={() =&gt; setMobileMenuOpen(false)}
              /&gt;
            &lt;/nav&gt;

            {/* 돌파구 마이페이지로 */}
            &lt;div className=&quot;absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200&quot;&gt;
              &lt;Link
                href=&quot;/mypage/buyer/dashboard&quot;
                className=&quot;flex items-center justify-between px-4 py-3 bg-gray-100 rounded-lg text-gray-700 hover:bg-gray-200&quot;
                onClick={() =&gt; setMobileMenuOpen(false)}
              &gt;
                &lt;span className=&quot;font-medium&quot;&gt;돌파구 마이페이지&lt;/span&gt;
                &lt;ChevronRight className=&quot;w-5 h-5&quot; /&gt;
              &lt;/Link&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}

      &lt;div className=&quot;lg:flex lg:max-w-6xl lg:mx-auto&quot;&gt;
        {/* PC 사이드바 */}
        &lt;aside className=&quot;hidden lg:block lg:w-64 lg:flex-shrink-0 lg:sticky lg:top-20 lg:h-[calc(100vh-5rem)] lg:overflow-y-auto&quot;&gt;
          &lt;div className=&quot;p-4&quot;&gt;
            {/* 로고 */}
            &lt;Link href=&quot;/errands&quot; className=&quot;flex items-center gap-2 mb-6&quot;&gt;
              &lt;Bike className=&quot;w-8 h-8 text-blue-600&quot; /&gt;
              &lt;span className=&quot;font-bold text-xl text-gray-900&quot;&gt;심부름&lt;/span&gt;
            &lt;/Link&gt;

            {/* 프로필 섹션 */}
            &lt;div className=&quot;bg-white rounded-xl p-4 mb-4 shadow-sm&quot;&gt;
              &lt;div className=&quot;flex items-center gap-3 mb-3&quot;&gt;
                &lt;ProfileImage
                  src={profile?.profile_image}
                  alt={profile?.name || '사용자'}
                  size={48}
                /&gt;
                &lt;div&gt;
                  &lt;p className=&quot;font-semibold text-gray-900&quot;&gt;{profile?.name || '사용자'}&lt;/p&gt;
                  {mode === 'helper' &amp;&amp; helperProfile &amp;&amp; (
                    &lt;div className=&quot;flex items-center gap-1 mt-1&quot;&gt;
                      &lt;span className=&quot;text-xs text-gray-500&quot;&gt;
                        {getGradeLabel(helperProfile.grade)}
                      &lt;/span&gt;
                      &lt;span className=&quot;text-gray-300&quot;&gt;|&lt;/span&gt;
                      &lt;span
                        className={`text-xs px-2 py-0.5 rounded-full ${getSubscriptionLabel(helperProfile.subscription_status).color}`}
                      &gt;
                        {getSubscriptionLabel(helperProfile.subscription_status).text}
                      &lt;/span&gt;
                    &lt;/div&gt;
                  )}
                &lt;/div&gt;
              &lt;/div&gt;

              {/* 역할 전환 */}
              &lt;div className=&quot;flex gap-2&quot;&gt;
                &lt;Link
                  href=&quot;/errands/mypage&quot;
                  className={`flex-1 py-2 px-3 rounded-lg text-sm font-medium text-center transition-colors </code></pre></div><div class="py-4"><p class="text-gray-600">src\components\chat\PaymentRequestModal.tsx (Line 134:2 - Line 188:8), src\components\service\ServiceForm.tsx (Line 631:2 - Line 673:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn273" onclick="toggleCodeBlock('cloneGroup273', 'expandBtn273', 'collapseBtn273')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn273" onclick="toggleCodeBlock('cloneGroup273', 'expandBtn273', 'collapseBtn273')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup273"><code class="language-javascript text-sm text-gray-800">}
              placeholder=&quot;작업 내용 및 요구사항&quot;
            /&gt;
          &lt;/div&gt;

          &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;
            &lt;div&gt;
              &lt;label
                htmlFor=&quot;delivery-days&quot;
                className=&quot;block text-sm font-medium text-gray-700 mb-2&quot;
              &gt;
                작업 기간 (일)
              &lt;/label&gt;
              &lt;input
                id=&quot;delivery-days&quot;
                type=&quot;number&quot;
                value={formData.deliveryDays}
                onChange={(e) =&gt; setFormData({ ...formData, deliveryDays: e.target.value })}
                className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent&quot;
                min=&quot;1&quot;
                max=&quot;365&quot;
              /&gt;
            &lt;/div&gt;

            &lt;div&gt;
              &lt;label
                htmlFor=&quot;revision-count&quot;
                className=&quot;block text-sm font-medium text-gray-700 mb-2&quot;
              &gt;
                수정 횟수
              &lt;/label&gt;
              &lt;input
                id=&quot;revision-count&quot;
                type=&quot;number&quot;
                value={formData.revisionCount}
                onChange={(e) =&gt; setFormData({ ...formData, revisionCount: e.target.value })}
                className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent&quot;
                min=&quot;0&quot;
                max=&quot;10&quot;
              /&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div className=&quot;bg-blue-50 rounded-lg p-4&quot;&gt;
            &lt;p className=&quot;text-sm text-blue-900&quot;&gt;
              &lt;Info className=&quot;w-4 h-4 mr-2 inline&quot; /&gt;
              구매자가 결제 요청을 수락하면 결제 페이지로 이동합니다. 결제 요청은 72시간 후 자동으로
              만료됩니다.
            &lt;/p&gt;
          &lt;/div&gt;

          &lt;div className=&quot;flex gap-3 pt-4&quot;&gt;
            &lt;button
              type=&quot;button&quot;
              onClick={onClose</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="tsx-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">tsx</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\services\new\NewServiceClientV2.tsx (Line 374:31 - Line 387:13), src\app\mypage\seller\services\statistics\ServiceStatisticsClient.tsx (Line 46:61 - Line 59:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup1"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
        {/* 상단 네비게이션 */}
        &lt;div className=&quot;mb-4 lg:mb-6&quot;&gt;
          &lt;Link
            href=&quot;/mypage/seller/services&quot;
            className=&quot;text-gray-600 hover:text-gray-900 flex items-center gap-2&quot;
          &gt;
            &lt;ArrowLeft className=&quot;w-4 h-4&quot; /&gt;
            &lt;span className=&quot;text-sm lg:text-base&quot;&gt;서비스 관리로&lt;/span&gt;
          &lt;/Link&gt;
        &lt;/div&gt;

        {/* 페이지 헤더 */}
        &lt;div className=&quot;mb-4 lg:mb-6</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\profile\edit\SellerProfileEditClient.tsx (Line 244:2 - Line 255:16), src\app\mypage\seller\services\new\steps\Step4Images.tsx (Line 66:2 - Line 77:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup2"><code class="language-tsx text-sm text-gray-800">= (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
    const file = e.target.files?.[0];
    if (file) {
      if (file.size &gt; 5 * 1024 * 1024) {
        toast.error('파일 크기는 5MB를 초과할 수 없습니다.');
        return;
      }
      if (!file.type.startsWith('image/')) {
        toast.error('이미지 파일만 업로드 가능합니다.');
        return;
      }
      setProfileImage</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\profile\edit\SellerProfileEditClient.tsx (Line 582:6 - Line 596:3), src\app\mypage\seller\profile\edit\SellerProfileEditClient.tsx (Line 554:8 - Line 568:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup3"><code class="language-tsx text-sm text-gray-800">}`,
                        });
                      }}
                      className=&quot;w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent&quot;
                    &gt;
                      {Array.from({ length: 24 }, (_, i) =&gt; {
                        const hour = i.toString().padStart(2, '0');
                        return [
                          &lt;option key={`${hour}:00`} value={`${hour}:00`}&gt;{`${hour}:00`}&lt;/option&gt;,
                          &lt;option key={`${hour}:30`} value={`${hour}:30`}&gt;{`${hour}:30`}&lt;/option&gt;,
                        ];
                      })}
                    &lt;/select&gt;
                  &lt;/div&gt;
                &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\portfolio\[id]\PortfolioDetailClient.tsx (Line 9:18 - Line 21:5), src\app\mypage\seller\portfolio\[id]\edit\PortfolioEditClient.tsx (Line 6:15 - Line 18:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup4"><code class="language-tsx text-sm text-gray-800">;

interface Portfolio {
  id: string;
  seller_id: string;
  title: string;
  description: string;
  category_id: string | null;
  thumbnail_url: string | null;
  image_urls: string[];
  project_url: string | null;
  youtube_url: string | null;
  tags</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\advertising\purchase\page.tsx (Line 142:14 - Line 159:6), src\app\mypage\seller\advertising\payments\[id]\page.tsx (Line 67:11 - Line 84:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup5"><code class="language-tsx text-sm text-gray-800">(false);
    }
  }

  if (loading) {
    return (
      &lt;MypageLayoutWrapper mode=&quot;seller&quot;&gt;
        &lt;div className=&quot;flex items-center justify-center min-h-[400px]&quot;&gt;
          &lt;div className=&quot;text-center&quot;&gt;
            &lt;div className=&quot;inline-block w-12 h-12 border-4 border-brand-primary border-t-transparent rounded-full animate-spin mb-4&quot;&gt;&lt;/div&gt;
            &lt;p className=&quot;text-gray-600&quot;&gt;로딩 중...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/MypageLayoutWrapper&gt;
    );
  }

  const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\[id]\page.tsx (Line 212:21 - Line 224:62), src\app\mypage\seller\orders\[id]\SellerOrderDetailClient.tsx (Line 200:22 - Line 212:49)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup6"><code class="language-tsx text-sm text-gray-800">&quot;
            className=&quot;text-gray-600 hover:text-gray-900 flex items-center gap-2&quot;
          &gt;
            &lt;ArrowLeft className=&quot;w-4 h-4 lg:w-5 lg:h-5&quot; /&gt;
            &lt;span className=&quot;text-sm lg:text-base&quot;&gt;주문 목록으로&lt;/span&gt;
          &lt;/Link&gt;
        &lt;/div&gt;

        {/* 페이지 헤더 */}
        &lt;div className=&quot;mb-4 lg:mb-8&quot;&gt;
          &lt;div className=&quot;flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4&quot;&gt;
            &lt;div&gt;
              &lt;h1 className=&quot;text-base lg:text-xl font-semibold text-gray-900 mb-1 lg:mb-2</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\[id]\page.tsx (Line 269:5 - Line 281:2), src\app\mypage\seller\orders\[id]\SellerOrderDetailClient.tsx (Line 232:7 - Line 244:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup7"><code class="language-tsx text-sm text-gray-800">&gt;
              )}
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8&quot;&gt;
          {/* 왼쪽: 주요 정보 */}
          &lt;div className=&quot;lg:col-span-2 space-y-4 lg:space-y-6&quot;&gt;
            {/* 주문 정보 */}
            &lt;OrderInfoSection order={order}&gt;
              &lt;h3 className=&quot;text-sm lg:text-lg font-semibold text-gray-900 mb-2 break-words&quot;&gt;
                {order.title || order.service?.title}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\[id]\page.tsx (Line 286:2 - Line 293:3), src\app\mypage\seller\orders\[id]\SellerOrderDetailClient.tsx (Line 249:2 - Line 256:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup8"><code class="language-tsx text-sm text-gray-800">|| 'standard'}&lt;/span&gt;
                &lt;/div&gt;
                &lt;div&gt;
                  &lt;span className=&quot;text-gray-600&quot;&gt;수정 횟수:&lt;/span&gt;
                  &lt;span className=&quot;ml-2 font-medium&quot;&gt;{order.revision_count || 0}회&lt;/span&gt;
                &lt;/div&gt;
                &lt;div&gt;
                  &lt;span className=&quot;text-gray-600&quot;&gt;남은</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\[id]\page.tsx (Line 327:6 - Line 344:2), src\app\mypage\seller\orders\[id]\SellerOrderDetailClient.tsx (Line 287:6 - Line 304:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup9"><code class="language-tsx text-sm text-gray-800">&quot; /&gt;
          &lt;/div&gt;

          {/* 오른쪽: 사이드바 */}
          &lt;div className=&quot;space-y-4 lg:space-y-6&quot;&gt;
            {/* 현재 상태 */}
            &lt;div className=&quot;bg-white rounded-lg border border-gray-200 p-3 lg:p-4&quot;&gt;
              &lt;h3 className=&quot;font-semibold text-gray-900 mb-3 lg:mb-4 text-xs lg:text-base&quot;&gt;
                현재 상태
              &lt;/h3&gt;
              &lt;div className=&quot;flex items-center justify-center py-3 lg:py-4&quot;&gt;
                &lt;span
                  className={`px-4 py-2 lg:px-6 lg:py-3 rounded-lg font-semibold text-sm lg:text-lg ${getStatusColor(order.status)}`}
                &gt;
                  {getStatusLabel(order.status)}
                &lt;/span&gt;
              &lt;/div&gt;
              {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\earnings\page.tsx (Line 91:6 - Line 101:15), src\app\errands\mypage\helper\reviews\page.tsx (Line 96:6 - Line 106:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup10"><code class="language-tsx text-sm text-gray-800">&lt;/p&gt;
        &lt;/div&gt;

        {loading ? (
          &lt;div className=&quot;bg-white rounded-xl p-8 text-center&quot;&gt;
            &lt;div className=&quot;animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent mx-auto&quot; /&gt;
            &lt;p className=&quot;mt-4 text-gray-500&quot;&gt;불러오는 중...&lt;/p&gt;
          &lt;/div&gt;
        ) : (
          &lt;&gt;
            {/* 출금 가능 잔액 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\available\page.tsx (Line 123:2 - Line 133:2), src\app\errands\mypage\helper\jobs\page.tsx (Line 61:7 - Line 73:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup11"><code class="language-tsx text-sm text-gray-800">}`);
      if (response.ok) {
        const data = await response.json();
        setErrands(data.errands || []);
      }
    } catch (error) {
      console.error('심부름 목록 로드 실패:', error);
    } finally {
      setLoading(false);
    }
  },</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\services\pending\[id]\PendingServiceDetailClient.tsx (Line 195:2 - Line 220:2), src\app\admin\services\revisions\[id]\RevisionDetailClient.tsx (Line 234:4 - Line 259:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup36"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        {/* 액션 버튼 */}
        &lt;div className=&quot;flex gap-4 justify-center&quot;&gt;
          &lt;button
            onClick={handleReject}
            className=&quot;px-8 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium&quot;
          &gt;
            &lt;X className=&quot;w-4 h-4 inline mr-2&quot; /&gt;
            반려
          &lt;/button&gt;
          &lt;button
            onClick={handleApprove}
            className=&quot;px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium&quot;
          &gt;
            &lt;Check className=&quot;w-4 h-4 inline mr-2&quot; /&gt;
            승인
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\services\pending\[id]\page.tsx (Line 94:18 - Line 104:2), src\app\admin\services\revisions\[id]\page.tsx (Line 19:20 - Line 29:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup37"><code class="language-tsx text-sm text-gray-800">;
    return (
      &lt;div className=&quot;p-8&quot;&gt;
        &lt;div className=&quot;bg-red-50 border border-red-200 rounded-lg p-6&quot;&gt;
          &lt;h2 className=&quot;text-xl font-semibold text-red-900 mb-4&quot;&gt;오류가 발생했습니다&lt;/h2&gt;
          &lt;p className=&quot;text-red-700&quot;&gt;{errorMessage}&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    );
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 3:36 - Line 12:18), src\__tests__\unit\components\services\TemplateSelector.test.tsx (Line 3:41 - Line 12:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup38"><code class="language-tsx text-sm text-gray-800">;

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

// Mock next/link</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\PortfolioModal.test.tsx (Line 3:39 - Line 12:9), src\__tests__\unit\components\services\TemplateSelector.test.tsx (Line 3:41 - Line 12:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup40"><code class="language-tsx text-sm text-gray-800">;

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

describe</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\PortfolioGrid.test.tsx (Line 3:38 - Line 12:41), src\__tests__\unit\components\services\TemplateSelector.test.tsx (Line 3:41 - Line 12:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup41"><code class="language-tsx text-sm text-gray-800">;

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

// Mock dynamic import of PortfolioModal</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\MobileServiceBottomBar.test.tsx (Line 118:37 - Line 129:7), src\__tests__\unit\components\services\MobileServiceBottomBar.test.tsx (Line 102:37 - Line 113:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup42"><code class="language-tsx text-sm text-gray-800">, () =&gt; {
    mockUseAuth.mockReturnValue({ user: null });

    render(
      &lt;MobileServiceBottomBar
        serviceId=&quot;service-1&quot;
        sellerId=&quot;seller-1&quot;
        sellerUserId=&quot;seller-user-1&quot;
      /&gt;
    );

    fireEvent.click(screen.getByText('구매하기'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\MobileServiceBottomBar.test.tsx (Line 152:30 - Line 164:7), src\__tests__\unit\components\services\MobileServiceBottomBar.test.tsx (Line 134:30 - Line 146:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup43"><code class="language-tsx text-sm text-gray-800">, () =&gt; {
    mockUseAuth.mockReturnValue({ user: { id: 'seller-user-1' } });
    const alertMock = vi.spyOn(window, 'alert').mockImplementation(() =&gt; {});

    render(
      &lt;MobileServiceBottomBar
        serviceId=&quot;service-1&quot;
        sellerId=&quot;seller-1&quot;
        sellerUserId=&quot;seller-user-1&quot;
      /&gt;
    );

    fireEvent.click(screen.getByText('구매하기'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 22:2 - Line 35:24), src\__tests__\unit\components\services\PurchaseButton.test.tsx (Line 19:2 - Line 32:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup44"><code class="language-tsx text-sm text-gray-800">,
}));

// Mock logger
vi.mock('@/lib/logger', () =&gt; ({
  logger: {
    error: vi.fn(),
    info: vi.fn(),
    warn: vi.fn(),
    debug: vi.fn(),
  },
}));

// Mock react-hot-toast</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 177:27 - Line 188:10), src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 74:27 - Line 85:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup45"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    mockFetch.mockResolvedValueOnce({
      ok: true,
      json: async () =&gt; ({
        data: [{ id: 'fav-1', service_id: 'service-1', user_id: 'user-123' }],
      }),
    });

    render(&lt;FavoriteButton serviceId=&quot;service-1&quot; /&gt;);

    await waitFor(() =&gt; {
      expect(screen.getByRole</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 211:7 - Line 221:19), src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 95:2 - Line 105:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup46"><code class="language-tsx text-sm text-gray-800">});

    render(&lt;FavoriteButton serviceId=&quot;service-1&quot; /&gt;);

    await waitFor(() =&gt; {
      expect(screen.getByText('찜하기')).toBeInTheDocument();
    });

    fireEvent.click(screen.getByRole('button'));

    // 로딩 중 버튼 비활성화 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 225:21 - Line 242:12), src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 89:29 - Line 106:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup47"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    mockFetch
      .mockResolvedValueOnce({
        ok: true,
        json: async () =&gt; ({ data: [] }),
      })
      .mockResolvedValueOnce({ ok: true });

    render(&lt;FavoriteButton serviceId=&quot;service-1&quot; /&gt;);

    await waitFor(() =&gt; {
      expect(screen.getByText('찜하기')).toBeInTheDocument();
    });

    fireEvent.click(screen.getByRole('button'));

    await waitFor(() =&gt; {
      expect(mockRefresh</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\ContactSellerButton.test.tsx (Line 3:44 - Line 36:22), src\__tests__\unit\components\services\PurchaseButton.test.tsx (Line 3:39 - Line 36:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup48"><code class="language-tsx text-sm text-gray-800">;

// Mock next/navigation
const mockPush = vi.fn();
vi.mock('next/navigation', () =&gt; ({
  useRouter: () =&gt; ({
    push: mockPush,
  }),
}));

// Mock react-hot-toast
const mockToastError = vi.fn();
vi.mock('react-hot-toast', () =&gt; ({
  default: {
    error: (msg: string) =&gt; mockToastError(msg),
    success: vi.fn(),
  },
}));

// Mock logger
vi.mock('@/lib/logger', () =&gt; ({
  logger: {
    error: vi.fn(),
    info: vi.fn(),
    warn: vi.fn(),
    debug: vi.fn(),
  },
}));

// Mock fetch
const mockFetch = vi.fn();
global.fetch = mockFetch;

describe('ContactSellerButton'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\ContactSellerButton.test.tsx (Line 127:20 - Line 136:24), src\__tests__\unit\components\services\PurchaseButton.test.tsx (Line 145:15 - Line 154:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup49"><code class="language-tsx text-sm text-gray-800"> {...defaultProps} /&gt;);

    fireEvent.click(screen.getByRole('button'));

    await waitFor(() =&gt; {
      expect(screen.getByRole('button')).toBeDisabled();
    });
  });

  it('로딩 중에는 처리 중 텍스트를 표시한다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\services\ContactSellerButton.test.tsx (Line 136:24 - Line 144:10), src\__tests__\unit\components\services\ContactSellerButton.test.tsx (Line 124:20 - Line 132:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup50"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    mockFetch.mockImplementation(() =&gt; new Promise(() =&gt; {}));

    render(&lt;ContactSellerButton {...defaultProps} /&gt;);

    fireEvent.click(screen.getByRole('button'));

    await waitFor(() =&gt; {
      expect(screen.getByText</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\search\SearchResults.test.tsx (Line 3:36 - Line 22:19), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup51"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/image</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\search\SearchResults.test.tsx (Line 20:2 - Line 29:29), src\__tests__\unit\components\services\TemplateSelector.test.tsx (Line 3:41 - Line 12:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup52"><code class="language-tsx text-sm text-gray-800">;

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

// Mock ServiceCard - 더 단순하게</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\search\MobileSearchContent.test.tsx (Line 3:42 - Line 22:24), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup53"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\notifications\NotificationBell.test.tsx (Line 3:46 - Line 22:16), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup54"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock useAuth</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\notifications\NotificationBell.test.tsx (Line 20:2 - Line 31:15), src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 4:39 - Line 15:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup55"><code class="language-tsx text-sm text-gray-800">;

// Mock useAuth
const mockUser = { id: 'user-123', email: 'test@example.com' };
const mockUseAuth = vi.fn(() =&gt; ({
  user: mockUser as { id: string; email: string } | null,
}));
vi.mock('@/components/providers/AuthProvider', () =&gt; ({
  useAuth: () =&gt; mockUseAuth(),
}));

// Mock logger</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\notifications\NotificationBell.test.tsx (Line 28:2 - Line 41:42), src\__tests__\unit\components\services\FavoriteButton.test.tsx (Line 22:2 - Line 32:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup56"><code class="language-tsx text-sm text-gray-800">),
}));

// Mock logger
vi.mock('@/lib/logger', () =&gt; ({
  logger: {
    error: vi.fn(),
    info: vi.fn(),
    warn: vi.fn(),
    debug: vi.fn(),
  },
}));

// Mock Supabase client with proper chain</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\mypage\Sidebar.test.tsx (Line 3:30 - Line 23:4), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 23:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup57"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation
let</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\mypage\OrderCard.test.tsx (Line 3:32 - Line 12:12), src\__tests__\unit\components\services\TemplateSelector.test.tsx (Line 3:41 - Line 12:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup58"><code class="language-tsx text-sm text-gray-800">;

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

describe('OrderCard'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\mypage\MobileMyPageNav.test.tsx (Line 3:38 - Line 23:23), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 23:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup59"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation
let mockPathname = '/mypage/buyer/orders'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\layout\MobileBottomNav.test.tsx (Line 8:2 - Line 20:27), src\__tests__\unit\components\notifications\NotificationBell.test.tsx (Line 19:3 - Line 15:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup60"><code class="language-tsx text-sm text-gray-800">),
}));

// Mock useAuth
const mockUser = { id: 'user-123', email: 'test@example.com' };
const mockUseAuth = vi.fn(() =&gt; ({
  user: mockUser as { id: string; email: string } | null,
}));
vi.mock('@/components/providers/AuthProvider', () =&gt; ({
  useAuth: () =&gt; mockUseAuth(),
}));

// Mock useChatUnreadCount</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\layout\MegaMenu.test.tsx (Line 3:31 - Line 22:9), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup61"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

describe</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\layout\Header.test.tsx (Line 3:29 - Line 24:6), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 24:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup62"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation
const mockPush = vi.fn();
const</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\layout\Header.test.tsx (Line 145:20 - Line 156:13), src\__tests__\unit\components\layout\Header.test.tsx (Line 130:23 - Line 141:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup63"><code class="language-tsx text-sm text-gray-800">, async () =&gt; {
    mockUseAuth.mockReturnValue({
      user: { id: 'user-1' },
      profile: { name: '홍길동', is_seller: false },
      loading: false,
      signOut: mockSignOut,
    });

    render(&lt;Header /&gt;);

    // Lazy loaded component - wait for it to appear
    const notification</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\layout\Footer.test.tsx (Line 3:29 - Line 22:33), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup64"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock FooterMobileBusinessInfo</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\SellerRegistrationGuide.test.tsx (Line 3:44 - Line 22:26), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 22:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup65"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

describe('SellerRegistrationGuide'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\HeroSection.test.tsx (Line 10:2 - Line 30:14), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 9:3 - Line 22:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup66"><code class="language-tsx text-sm text-gray-800">),
}));

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

describe('HeroSection'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\HeroSection.test.tsx (Line 56:12 - Line 70:12), src\__tests__\unit\components\home\MobileSearchBar.test.tsx (Line 31:16 - Line 45:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup67"><code class="language-tsx text-sm text-gray-800"> /&gt;);

    const input = screen.getByPlaceholderText('어떤 재능이 필요하신가요?');
    const form = input.closest('form')!;

    fireEvent.change(input, { target: { value: '로고 디자인' } });
    fireEvent.submit(form);

    expect(mockPush).toHaveBeenCalledWith(
      '/search?q=%EB%A1%9C%EA%B3%A0%20%EB%94%94%EC%9E%90%EC%9D%B8'
    );
  });

  it('빈 검색어로 제출해도 이동하지 않는다', () =&gt; {
    render(&lt;HeroSection</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\HeroSection.test.tsx (Line 70:12 - Line 81:20), src\__tests__\unit\components\home\MobileSearchBar.test.tsx (Line 45:16 - Line 56:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup68"><code class="language-tsx text-sm text-gray-800"> /&gt;);

    const input = screen.getByPlaceholderText('어떤 재능이 필요하신가요?');
    const form = input.closest('form')!;

    fireEvent.change(input, { target: { value: '   ' } });
    fireEvent.submit(form);

    expect(mockPush).not.toHaveBeenCalled();
  });

  it('슬라이드 도트 버튼을 렌더링한다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\CategoryGridClient.test.tsx (Line 3:39 - Line 22:21), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 22:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup69"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

describe('CategoryGridClient'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\home\AITalentShowcase.test.tsx (Line 3:37 - Line 29:19), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 12:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup70"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/image
vi.mock('next/image', () =&gt; ({
  default: ({ src, alt, ...props }: { src: string; alt: string; [key: string]: unknown }) =&gt; (
    &lt;img src={src} alt={alt} {...props} /&gt;
  ),
}));

describe('AITalentShowcase'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\chat\ChatNotificationBadge.test.tsx (Line 3:42 - Line 22:32), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 29:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup71"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock useChatUnreadCount hook</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\ServiceGrid.test.tsx (Line 13:1 - Line 19:14), src\__tests__\unit\components\search\SearchResults.test.tsx (Line 30:1 - Line 36:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup72"><code class="language-tsx text-sm text-gray-800">vi.mock('@/components/services/ServiceCard', () =&gt; ({
  default: ({ service }: { service: { id: string; title: string } }) =&gt; (
    &lt;div data-testid={`service-card-${service.id}`}&gt;{service.title}&lt;/div&gt;
  ),
}));

describe('ServiceGrid'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\MobileCategoryBrowser.test.tsx (Line 3:48 - Line 22:24), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 22:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup73"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

describe('MobileCategoryBrowser'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\CategoryVisitTracker.test.tsx (Line 3:47 - Line 22:23), src\__tests__\unit\components\services\ViewTracker.test.tsx (Line 3:36 - Line 22:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup74"><code class="language-tsx text-sm text-gray-800">;

// Mock useAuth
const mockUseAuth = vi.fn();
vi.mock('@/components/providers/AuthProvider', () =&gt; ({
  useAuth: () =&gt; mockUseAuth(),
}));

// Mock logger
vi.mock('@/lib/logger', () =&gt; ({
  logger: {
    error: vi.fn(),
  },
}));

// Mock fetch
const mockFetch = vi.fn();
global.fetch = mockFetch;

describe('CategoryVisitTracker'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\CategoryVisitTracker.test.tsx (Line 94:7 - Line 104:7), src\__tests__\unit\components\services\ViewTracker.test.tsx (Line 55:2 - Line 64:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup75"><code class="language-tsx text-sm text-gray-800">/&gt;
    );

    expect(container.firstChild).toBeNull();
  });

  it('fetch 에러를 조용히 처리한다', async () =&gt; {
    mockUseAuth.mockReturnValue({ user: { id: 'user-1' } });
    mockFetch.mockRejectedValue(new Error('Network error'));

    expect</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\CategorySidebar.test.tsx (Line 86:2 - Line 97:19), src\__tests__\unit\components\home\CategoryGridClient.test.tsx (Line 52:2 - Line 63:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup76"><code class="language-tsx text-sm text-gray-800">
      /&gt;
    );

    const aiLink = screen.getByRole('link', { name: /AI 서비스/ });
    expect(aiLink).toHaveAttribute('href', '/categories/ai-services');

    const designLink = screen.getByRole('link', { name: /디자인/ });
    expect(designLink).toHaveAttribute('href', '/categories/design');
  });

  it('현재 카테고리가 하이라이트된다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\categories\CategoryFilter.test.tsx (Line 3:41 - Line 15:17), src\__tests__\unit\components\categories\CategorySort.test.tsx (Line 3:39 - Line 15:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup77"><code class="language-tsx text-sm text-gray-800">;

// Mock next/navigation
const mockPush = vi.fn();
const mockSearchParams = new URLSearchParams();
vi.mock('next/navigation', () =&gt; ({
  useRouter: () =&gt; ({
    push: mockPush,
  }),
  useSearchParams: () =&gt; mockSearchParams,
}));

describe('CategoryFilter'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\analytics\PageViewTracker.test.tsx (Line 53:5 - Line 58:35), src\__tests__\unit\components\analytics\PageViewTracker.test.tsx (Line 41:5 - Line 46:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup78"><code class="language-tsx text-sm text-gray-800">render(&lt;PageViewTracker /&gt;);

    await waitFor(() =&gt; {
      const call = mockFetch.mock.calls[0];
      const body = JSON.parse(call[1].body);
      expect(body.path).toBe('/services/123?sort=latest&amp;page=2'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\admin\Sidebar.test.tsx (Line 3:29 - Line 23:19), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 23:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup79"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation
let mockPathname = '/admin/dashboard'</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\admin\Header.test.tsx (Line 3:28 - Line 30:16), src\__tests__\unit\components\services\ServiceCard.test.tsx (Line 10:2 - Line 30:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup80"><code class="language-tsx text-sm text-gray-800">;

// Mock next/link
vi.mock('next/link', () =&gt; ({
  default: ({
    children,
    href,
    ...props
  }: {
    children: React.ReactNode;
    href: string;
    [key: string]: unknown;
  }) =&gt; (
    &lt;a href={href} {...props}&gt;
      {children}
    &lt;/a&gt;
  ),
}));

// Mock next/navigation
const mockPush = vi.fn();
vi.mock('next/navigation', () =&gt; ({
  useRouter: () =&gt; ({
    push: mockPush,
  }),
}));

// Mock useAuth</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\unit\components\admin\Header.test.tsx (Line 97:17 - Line 105:10), src\__tests__\unit\components\admin\Header.test.tsx (Line 71:27 - Line 78:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup81"><code class="language-tsx text-sm text-gray-800">, () =&gt; {
    render(&lt;AdminHeader /&gt;);

    const userButton = screen.getByText('admin@example.com').closest('button');
    fireEvent.click(userButton!);

    expect(screen.getByText('프로필')).toBeInTheDocument();

    fireEvent</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\advertising\[orderId]\AdvertisingPaymentClient.tsx (Line 59:2 - Line 78:6), src\app\payment\direct\[orderId]\DirectPaymentClient.tsx (Line 115:2 - Line 134:30)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup83"><code class="language-tsx text-sm text-gray-800">);

  const handleBack = () =&gt; {
    router.back();
  };

  const handlePayment = async () =&gt; {
    // 전화번호 확인
    const phone = buyer?.phone || phoneInput;

    // 결제 전 유효성 검사 (공통 유틸리티 사용)
    if (!validatePaymentPreconditions(agreedToTerms, agreedToPrivacy, phone)) {
      return;
    }

    if (isProcessing) return;
    setIsProcessing(true);

    try {
      const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\advertising\[orderId]\AdvertisingPaymentClient.tsx (Line 84:7 - Line 100:35), src\app\payment\direct\[orderId]\DirectPaymentClient.tsx (Line 138:12 - Line 154:30)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup84"><code class="language-tsx text-sm text-gray-800">,
        buyerName: buyer?.name || '구매자',
        buyerEmail: buyer?.email || null,
        buyerPhone: phone,
        paymentMethod: selectedPaymentMethod,
        easyPayProvider,
        isInternationalCard,
      });

      if (!result.success) {
        toast.error(result.error || '결제에 실패했습니다');
        setIsProcessing(false);
        return;
      }

      // 결제 검증
      const verifyResponse = await fetch('/api/payments/advertising/verify'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\statistics\page.tsx (Line 35:8 - Line 42:11), src\app\mypage\seller\statistics\page.tsx (Line 28:6 - Line 35:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup85"><code class="language-tsx text-sm text-gray-800">.toISOString())
      : { count: 0 },
    serviceIds.length &gt; 0
      ? supabase
          .from('service_views')
          .select('*', { count: 'exact', head: true })
          .in('service_id', serviceIds)
          .gte('viewed_at', monthStart</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\seller\dashboard\SellerDashboardClient.tsx (Line 274:29 - Line 284:2), src\app\mypage\seller\dashboard\SellerDashboardClient.tsx (Line 226:29 - Line 236:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup87"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
                          &lt;span className=&quot;text-xs text-gray-500&quot;&gt;
                            #{order.order_number || order.id.slice(0, 8)}
                          &lt;/span&gt;
                          &lt;span
                            className={`px-2 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClass(order.status)}`}
                          &gt;
                            {getStatusText(order.status)}
                          &lt;/span&gt;
                        &lt;/div&gt;
                        &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\helper\available\page.tsx (Line 90:2 - Line 104:3), src\app\errands\mypage\helper\available\page.tsx (Line 180:2 - Line 194:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup88"><code class="language-tsx text-sm text-gray-800">= (dateStr: string) =&gt; {
    const date = new Date(dateStr);
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / 60000);
    const diffHours = Math.floor(diffMs / 3600000);
    const diffDays = Math.floor(diffMs / 86400000);

    if (diffMins &lt; 1) return '방금 전';
    if (diffMins &lt; 60) return `${diffMins}분 전`;
    if (diffHours &lt; 24) return `${diffHours}시간 전`;
    return `${diffDays}일 전`;
  };

  if</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\reviews\BuyerReviewsClient.tsx (Line 245:7 - Line 257:7), src\app\mypage\buyer\reviews\BuyerReviewsClient.tsx (Line 149:6 - Line 161:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup89"><code class="language-tsx text-sm text-gray-800">.service?.thumbnail_url ? (
                          &lt;img
                            src={review.service.thumbnail_url}
                            alt={review.service.title}
                            className=&quot;w-full h-full object-cover&quot;
                          /&gt;
                        ) : (
                          &lt;ImageIcon className=&quot;w-5 h-5 text-gray-400&quot; /&gt;
                        )}
                      &lt;/div&gt;
                      &lt;div className=&quot;flex-1 min-w-0&quot;&gt;
                        &lt;h3 className=&quot;text-sm font-medium text-gray-900 truncate&quot;&gt;
                          {review</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 40:19 - Line 58:2), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 42:20 - Line 60:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup91"><code class="language-tsx text-sm text-gray-800">[]&gt;([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState&lt;string | null&gt;(null);
  const [statusCounts, setStatusCounts] = useState({
    all: 0,
    paid: 0,
    in_progress: 0,
    revision: 0,
    delivered: 0,
    completed: 0,
    cancelled: 0,
  });

  const [filters, setFilters] = useState&lt;OrdersFilter &amp; { status: OrderStatus }&gt;({
    status: statusFromUrl,
    searchQuery: '',
    startDate: '',
    endDate: '',
  }</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 77:19 - Line 96:26), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 79:20 - Line 98:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup92"><code class="language-tsx text-sm text-gray-800">${statusParam}`);

      if (!response.ok) {
        const error = await response.json();
        throw new Error(error.error || '주문 목록을 불러올 수 없습니다');
      }

      const { orders } = await response.json();
      setOrders(orders);
    } catch (err: unknown) {
      logger.error('주문 조회 실패:', err);
      setError(err instanceof Error ? err.message : '주문 내역을 불러오는데 실패했습니다');
    } finally {
      setLoading(false);
    }
  }

  async function loadStatusCounts() {
    try {
      const response = await fetch('/api/orders/buyer/count'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 171:5 - Line 176:7), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 186:5 - Line 191:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup93"><code class="language-tsx text-sm text-gray-800">return true;
  });

  const tabs: Array&lt;{ value: OrderStatus; label: string; count: number }&gt; = [
    { value: 'all', label: '전체', count: statusCounts.all },
    { value: 'paid', label: '결제완료'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 183:5 - Line 194:2), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 194:2 - Line 205:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup94"><code class="language-tsx text-sm text-gray-800">},
    { value: 'completed', label: '완료', count: statusCounts.completed },
    { value: 'cancelled', label: '취소/환불', count: statusCounts.cancelled },
  ];

  const resetFilters = () =&gt; {
    setFilters({
      status: 'all',
      searchQuery: '',
      startDate: '',
      endDate: '',
    }</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 265:5 - Line 278:12), src\app\mypage\buyer\orders\page.tsx (Line 207:3 - Line 220:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup95"><code class="language-tsx text-sm text-gray-800">&lt;/span&gt;
          &lt;/Link&gt;
          &lt;Link
            href={`/chat?order=${order.id}`}
            className=&quot;px-2 py-1 lg:px-4 lg:py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-xs lg:text-sm font-medium&quot;
          &gt;
            &lt;span className=&quot;lg:hidden&quot;&gt;채팅&lt;/span&gt;
            &lt;span className=&quot;hidden lg:inline&quot;&gt;메시지&lt;/span&gt;
          &lt;/Link&gt;
        &lt;/&gt;
      );
    }

    if (order.status === 'completed'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 278:12 - Line 290:180), src\app\mypage\buyer\orders\page.tsx (Line 257:14 - Line 269:140)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup96"><code class="language-tsx text-sm text-gray-800">) {
      return (
        &lt;&gt;
          &lt;Link
            href={`/mypage/buyer/orders/${order.id}`}
            className=&quot;px-2 py-1 lg:px-4 lg:py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-light transition-colors text-xs lg:text-sm font-medium&quot;
          &gt;
            &lt;span className=&quot;lg:hidden&quot;&gt;상세&lt;/span&gt;
            &lt;span className=&quot;hidden lg:inline&quot;&gt;상세보기&lt;/span&gt;
          &lt;/Link&gt;
          &lt;Link
            href={`/mypage/buyer/reviews?order=${order.id}`}
            className=&quot;inline-flex items-center gap-1 px-2 py-1 lg:px-4 lg:py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-xs lg:text-sm font-medium whitespace-nowrap</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\buyer\orders\page.tsx (Line 371:9 - Line 383:17), src\app\mypage\seller\orders\SellerOrdersClient.tsx (Line 380:9 - Line 392:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup97"><code class="language-tsx text-sm text-gray-800">/&gt;

        {/* 결과 카운트 */}
        &lt;div className=&quot;mb-4 text-sm text-gray-600&quot;&gt;
          총 &lt;span className=&quot;font-semibold text-gray-900&quot;&gt;{filteredOrders.length}&lt;/span&gt; 건의 주문
        &lt;/div&gt;

        {/* 주문 목록 */}
        &lt;div className=&quot;space-y-4&quot;&gt;
          {filteredOrders.length &gt; 0 ? (
            filteredOrders.map((order) =&gt; (
              &lt;OrderCard
                </code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 31:4 - Line 40:2), src\app\errands\mypage\helper\settings\page.tsx (Line 61:7 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup100"><code class="language-tsx text-sm text-gray-800">: false,
    },
  });
  const [loading, setLoading] = useState(true);
  const [saving, setSaving] = useState(false);
  const [saveSuccess, setSaveSuccess] = useState(false);

  useEffect(() =&gt; {
    if (profile) {
      setSettings({</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 58:21 - Line 75:19), src\app\errands\mypage\helper\settings\page.tsx (Line 83:23 - Line 100:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup101"><code class="language-tsx text-sm text-gray-800">, {
        method: 'PUT',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(settings),
      });

      if (response.ok) {
        setSaveSuccess(true);
        setTimeout(() =&gt; setSaveSuccess(false), 3000);
      }
    } catch (error) {
      console.error('설정 저장 실패:', error);
    } finally {
      setSaving(false);
    }
  }

  const updateNotification</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 131:4 - Line 147:3), src\app\errands\mypage\helper\settings\page.tsx (Line 323:2 - Line 339:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup102"><code class="language-tsx text-sm text-gray-800">&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            {/* 알림 설정 */}
            &lt;div className=&quot;bg-white rounded-xl shadow-sm overflow-hidden&quot;&gt;
              &lt;div className=&quot;p-4 border-b border-gray-100&quot;&gt;
                &lt;div className=&quot;flex items-center gap-2&quot;&gt;
                  &lt;Bell className=&quot;w-5 h-5 text-gray-600&quot; /&gt;
                  &lt;h2 className=&quot;font-bold text-gray-900&quot;&gt;알림 설정&lt;/h2&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div className=&quot;divide-y divide-gray-100&quot;&gt;
                &lt;div className=&quot;flex items-center justify-between p-4&quot;&gt;
                  &lt;div&gt;
                    &lt;p className=&quot;font-medium text-gray-900&quot;&gt;푸시</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 192:21 - Line 212:5), src\app\errands\mypage\helper\settings\page.tsx (Line 408:21 - Line 428:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup103"><code class="language-tsx text-sm text-gray-800">&lt;div
                      className={`w-5 h-5 bg-white rounded-full shadow transform transition-transform ${
                        settings.notifications.sms ? 'translate-x-6' : 'translate-x-1'
                      }`}
                    /&gt;
                  &lt;/button&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            {/* 계정 관리 */}
            &lt;div className=&quot;bg-white rounded-xl shadow-sm overflow-hidden&quot;&gt;
              &lt;div className=&quot;p-4 border-b border-gray-100&quot;&gt;
                &lt;div className=&quot;flex items-center gap-2&quot;&gt;
                  &lt;Shield className=&quot;w-5 h-5 text-gray-600&quot; /&gt;
                  &lt;h2 className=&quot;font-bold text-gray-900&quot;&gt;계정 관리&lt;/h2&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div className=&quot;divide-y divide-gray-100&quot;&gt;
                &lt;button className=&quot;w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors&quot;&gt;
                  &lt;span className=&quot;text-gray-900&quot;&gt;비밀번호</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\settings\page.tsx (Line 220:3 - Line 241:2), src\app\errands\mypage\helper\settings\page.tsx (Line 436:3 - Line 457:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup104"><code class="language-tsx text-sm text-gray-800">&lt;/span&gt;
                  &lt;ChevronRight className=&quot;w-5 h-5 text-gray-400&quot; /&gt;
                &lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            {/* 저장 버튼 */}
            &lt;button
              onClick={handleSave}
              disabled={saving}
              className={`w-full py-4 rounded-xl font-semibold flex items-center justify-center gap-2 transition-colors ${
                saveSuccess ? 'bg-green-600 text-white' : 'bg-blue-600 text-white hover:bg-blue-700'
              }`}
            &gt;
              &lt;SaveButtonContent isSaving={saving} isSuccess={saveSuccess} /&gt;
            &lt;/button&gt;
          &lt;/div&gt;
        )}
      &lt;/div&gt;
    &lt;/ErrandMypageLayout&gt;
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\requests\page.tsx (Line 43:12 - Line 55:11), src\app\errands\mypage\helper\jobs\page.tsx (Line 61:7 - Line 73:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup105"><code class="language-tsx text-sm text-gray-800">}`);
      if (response.ok) {
        const data = await response.json();
        setErrands(data.errands || []);
      }
    } catch (error) {
      console.error('심부름 목록 로드 실패:', error);
    } finally {
      setLoading(false);
    }
  }

  const statusTabs</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\requests\page.tsx (Line 96:2 - Line 107:8), src\app\errands\mypage\helper\available\page.tsx (Line 295:2 - Line 306:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup106"><code class="language-tsx text-sm text-gray-800">)}
        &lt;/div&gt;

        {/* 심부름 목록 */}
        {loading &amp;&amp; (
          &lt;div className=&quot;flex items-center justify-center py-12&quot;&gt;
            &lt;div className=&quot;animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent&quot; /&gt;
          &lt;/div&gt;
        )}
        {!loading &amp;&amp; errands.length === 0 &amp;&amp; (
          &lt;div className=&quot;bg-white rounded-xl p-8 text-center shadow-sm&quot;&gt;
            &lt;Package</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\requests\page.tsx (Line 145:2 - Line 162:4), src\app\errands\mypage\helper\available\page.tsx (Line 342:5 - Line 358:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup107"><code class="language-tsx text-sm text-gray-800">&gt;
                  &lt;/div&gt;

                  &lt;h3 className=&quot;font-medium text-gray-900 mb-2&quot;&gt;{errand.title}&lt;/h3&gt;

                  &lt;div className=&quot;space-y-1 text-sm text-gray-600&quot;&gt;
                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;
                      &lt;MapPin className=&quot;w-4 h-4 text-blue-500&quot; /&gt;
                      &lt;span className=&quot;truncate&quot;&gt;{errand.pickup_address}&lt;/span&gt;
                    &lt;/div&gt;
                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;
                      &lt;MapPin className=&quot;w-4 h-4 text-red-500&quot; /&gt;
                      &lt;span className=&quot;truncate&quot;&gt;{errand.delivery_address}&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;

                  &lt;div className=&quot;flex items-center justify-between mt-3 pt-3 border-t border-gray-100&quot;&gt;
                    &lt;div</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\history\page.tsx (Line 132:15 - Line 145:7), src\app\errands\mypage\helper\jobs\page.tsx (Line 119:13 - Line 132:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup108"><code class="language-tsx text-sm text-gray-800">}
        &lt;div className=&quot;space-y-4&quot;&gt;
          {loading &amp;&amp; (
            &lt;div className=&quot;bg-white rounded-xl p-8 text-center&quot;&gt;
              &lt;div className=&quot;animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent mx-auto&quot; /&gt;
              &lt;p className=&quot;mt-4 text-gray-500&quot;&gt;불러오는 중...&lt;/p&gt;
            &lt;/div&gt;
          )}

          {!loading &amp;&amp; errands.length === 0 &amp;&amp; (
            &lt;div className=&quot;bg-white rounded-xl p-8 text-center shadow-sm&quot;&gt;
              &lt;Package className=&quot;w-12 h-12 mx-auto text-gray-300 mb-3&quot; /&gt;
              &lt;p className=&quot;text-gray-500&quot;&gt;
                {filter</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\history\page.tsx (Line 161:11 - Line 174:11), src\app\errands\mypage\helper\jobs\page.tsx (Line 151:7 - Line 164:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup109"><code class="language-tsx text-sm text-gray-800">.icon;
              return (
                &lt;div key={errand.id} className=&quot;bg-white rounded-xl shadow-sm overflow-hidden&quot;&gt;
                  &lt;Link
                    href={`/errands/${errand.id}`}
                    className=&quot;flex items-center gap-4 p-4 hover:bg-gray-50 transition-colors&quot;
                  &gt;
                    &lt;div className=&quot;flex-1 min-w-0&quot;&gt;
                      &lt;div className=&quot;flex items-center gap-2 mb-1&quot;&gt;
                        &lt;span
                          className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${statusInfo.color}`}
                        &gt;
                          &lt;StatusIcon className=&quot;w-3 h-3&quot; /&gt;
                          {statusInfo</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\history\page.tsx (Line 174:11 - Line 185:2), src\app\errands\mypage\helper\jobs\page.tsx (Line 164:7 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup110"><code class="language-tsx text-sm text-gray-800">.text}
                        &lt;/span&gt;
                        &lt;span className=&quot;text-xs text-gray-500&quot;&gt;
                          {getCategoryLabel(errand.category)}
                        &lt;/span&gt;
                      &lt;/div&gt;
                      &lt;h3 className=&quot;font-medium text-gray-900 truncate&quot;&gt;{errand.title}&lt;/h3&gt;
                      &lt;div className=&quot;flex items-center gap-1 text-xs text-gray-500 mt-1&quot;&gt;
                        &lt;MapPin className=&quot;w-3 h-3&quot; /&gt;
                        &lt;span className=&quot;truncate&quot;&gt;{errand.pickup_address}&lt;/span&gt;
                      &lt;/div&gt;
                      {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\page.tsx (Line 42:8 - Line 48:5), src\app\mypage\helper\dashboard\page.tsx (Line 48:10 - Line 54:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup111"><code class="language-tsx text-sm text-gray-800">();
  const [helperProfile, setHelperProfile] = useState&lt;HelperProfile | null&gt;(null);
  const [stats, setStats] = useState&lt;HelperStats | null&gt;(null);
  const [loading, setLoading] = useState(true);

  useEffect(() =&gt; {
    if (user</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\page.tsx (Line 71:6 - Line 91:30), src\app\mypage\helper\dashboard\page.tsx (Line 77:4 - Line 97:30)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup112"><code class="language-tsx text-sm text-gray-800">);
    } finally {
      setLoading(false);
    }
  }

  const getGradeLabel = (grade: string) =&gt; {
    const gradeMap: Record&lt;string, string&gt; = {
      NEWBIE: '뉴비',
      BRONZE: '브론즈',
      SILVER: '실버',
      GOLD: '골드',
      PLATINUM: '플래티넘',
      DIAMOND: '다이아몬드',
    };
    return gradeMap[grade] || grade;
  };

  const getGradeColor = (grade: string) =&gt; {
    const colorMap: Record&lt;string, string&gt; = {
      NEWBIE: 'bg-green-100 text-green-700'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\page.tsx (Line 161:75 - Line 168:36), src\app\mypage\helper\dashboard\page.tsx (Line 181:75 - Line 188:28)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup113"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
            &lt;AlertCircle className=&quot;w-5 h-5 text-red-500 flex-shrink-0 mt-0.5&quot; /&gt;
            &lt;div className=&quot;flex-1&quot;&gt;
              &lt;p className=&quot;text-red-700 font-medium&quot;&gt;구독이 만료되었습니다&lt;/p&gt;
              &lt;p className=&quot;text-red-600 text-sm&quot;&gt;심부름 지원을 계속하려면 구독을 갱신해주세요.&lt;/p&gt;
            &lt;/div&gt;
            &lt;Link
              href=&quot;/errands/mypage/helper/subscription</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\page.tsx (Line 234:4 - Line 241:2), src\app\errands\mypage\helper\earnings\page.tsx (Line 125:2 - Line 132:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup114"><code class="language-tsx text-sm text-gray-800">&gt;
          &lt;div className=&quot;bg-white rounded-xl p-4 shadow-sm&quot;&gt;
            &lt;div className=&quot;flex items-center gap-2 text-gray-600 mb-1&quot;&gt;
              &lt;TrendingUp className=&quot;w-4 h-4&quot; /&gt;
              &lt;span className=&quot;text-xs&quot;&gt;누적 수익&lt;/span&gt;
            &lt;/div&gt;
            &lt;p className=&quot;text-lg font-bold text-gray-900&quot;&gt;
              {(</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\helper\page.tsx (Line 241:2 - Line 250:2), src\app\errands\mypage\helper\earnings\page.tsx (Line 132:12 - Line 141:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup115"><code class="language-tsx text-sm text-gray-800">.toLocaleString()}원
            &lt;/p&gt;
          &lt;/div&gt;
          &lt;div className=&quot;bg-white rounded-xl p-4 shadow-sm&quot;&gt;
            &lt;div className=&quot;flex items-center gap-2 text-gray-600 mb-1&quot;&gt;
              &lt;CreditCard className=&quot;w-4 h-4&quot; /&gt;
              &lt;span className=&quot;text-xs&quot;&gt;출금 완료&lt;/span&gt;
            &lt;/div&gt;
            &lt;p className=&quot;text-lg font-bold text-gray-900&quot;&gt;
              {(</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\tax-invoices\[id]\page.tsx (Line 88:7 - Line 94:2), src\app\mypage\seller\advertising\payments\[id]\page.tsx (Line 74:9 - Line 80:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn166" onclick="toggleCodeBlock('cloneGroup166', 'expandBtn166', 'collapseBtn166')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup166"><code class="language-tsx text-sm text-gray-800">&lt;div className=&quot;flex items-center justify-center min-h-[400px]&quot;&gt;
        &lt;div className=&quot;text-center&quot;&gt;
          &lt;div className=&quot;inline-block w-12 h-12 border-4 border-brand-primary border-t-transparent rounded-full animate-spin mb-4&quot;&gt;&lt;/div&gt;
          &lt;p className=&quot;text-gray-600&quot;&gt;로딩 중...&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\terms\location\page.tsx (Line 123:15 - Line 154:2), src\app\terms\partner\page.tsx (Line 141:16 - Line 172:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn176" onclick="toggleCodeBlock('cloneGroup176', 'expandBtn176', 'collapseBtn176')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup176"><code class="language-tsx text-sm text-gray-800">&quot;
      relatedLinks={[
        { href: '/terms', label: '이용약관' },
        { href: '/privacy', label: '개인정보처리방침' },
      ]}
    &gt;
      &lt;div className=&quot;space-y-6&quot;&gt;
        {sections.map((section) =&gt; (
          &lt;div
            key={section.title}
            className=&quot;border-b border-gray-100 pb-5 last:border-0 last:pb-0&quot;
          &gt;
            &lt;h2 className=&quot;text-sm font-semibold text-gray-900 mb-2&quot;&gt;{section.title}&lt;/h2&gt;
            {section.content &amp;&amp; (
              &lt;p className=&quot;text-xs text-gray-600 leading-relaxed&quot;&gt;{section.content}&lt;/p&gt;
            )}
            {section.list &amp;&amp; (
              &lt;ol className=&quot;space-y-1.5 mt-2&quot;&gt;
                {section.list.map((item, idx) =&gt; (
                  &lt;li key={item} className=&quot;text-xs text-gray-600 leading-relaxed flex gap-2&quot;&gt;
                    &lt;span className=&quot;text-gray-400 flex-shrink-0&quot;&gt;{idx + 1}.&lt;/span&gt;
                    {item}
                  &lt;/li&gt;
                ))}
              &lt;/ol&gt;
            )}
          &lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/PolicyLayout&gt;
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\seller\commission\page.tsx (Line 115:5 - Line 130:23), src\app\seller\guide\page.tsx (Line 174:6 - Line 189:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn177" onclick="toggleCodeBlock('cloneGroup177', 'expandBtn177', 'collapseBtn177')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup177"><code class="language-tsx text-sm text-gray-800">.
          &lt;/p&gt;
          &lt;Link
            href=&quot;/mypage/seller/register&quot;
            className=&quot;inline-flex items-center gap-2 px-5 py-2.5 bg-white text-brand-primary text-sm font-semibold rounded-lg hover:bg-gray-100 transition-colors&quot;
          &gt;
            지금 시작하기
            &lt;ArrowRight className=&quot;w-4 h-4&quot; /&gt;
          &lt;/Link&gt;
        &lt;/div&gt;
      &lt;/section&gt;

      {/* Benefits */}
      &lt;BenefitsSection benefits={benefits} /&gt;

      {/* Comparison Table */</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\[paymentRequestId]\PaymentClient.tsx (Line 139:7 - Line 151:4), src\app\payment\direct\[orderId]\DirectPaymentClient.tsx (Line 168:7 - Line 180:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn178" onclick="toggleCodeBlock('cloneGroup178', 'expandBtn178', 'collapseBtn178')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup178"><code class="language-tsx text-sm text-gray-800">toast.success('결제가 완료되었습니다!');
      router.push(`/mypage/buyer/orders/${order.id}`);
    } catch (error) {
      logger.error('Payment error:', error);
      toast.error(error instanceof Error ? error.message : '결제 중 오류가 발생했습니다');
      setIsProcessing(false);
    }
  };

  const sellerName = seller?.display_name || seller?.business_name || '전문가';

  return (
    &lt;div</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\[paymentRequestId]\PaymentClient.tsx (Line 148:6 - Line 162:5), src\app\payment\bank-transfer\[orderId]\BankTransferClient.tsx (Line 140:2 - Line 154:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn179" onclick="toggleCodeBlock('cloneGroup179', 'expandBtn179', 'collapseBtn179')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup179"><code class="language-tsx text-sm text-gray-800">;

  return (
    &lt;div className=&quot;min-h-screen bg-gray-50 pt-20&quot;&gt;
      &lt;div className=&quot;container mx-auto px-4 py-8 max-w-2xl&quot;&gt;
        {/* 헤더 */}
        &lt;div className=&quot;mb-6&quot;&gt;
          &lt;button
            onClick={() =&gt; router.back()}
            className=&quot;flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4&quot;
          &gt;
            &lt;ArrowLeft className=&quot;w-4 h-4&quot; /&gt;
            &lt;span&gt;뒤로가기&lt;/span&gt;
          &lt;/button&gt;
          &lt;h1 className=&quot;text-2xl font-semibold text-gray-900&quot;&gt;결제하기</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\payment\[paymentRequestId]\page.tsx (Line 51:8 - Line 63:11), src\app\payment\direct\[orderId]\page.tsx (Line 35:4 - Line 47:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn180" onclick="toggleCodeBlock('cloneGroup180', 'expandBtn180', 'collapseBtn180')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup180"><code class="language-tsx text-sm text-gray-800">);
  }

  // 본인인증 확인
  const { data: userData } = await supabase
    .from('users')
    .select('is_verified')
    .eq('id', user.id)
    .single();

  if (!userData?.is_verified) {
    // 본인인증 페이지로 리다이렉트 (returnUrl 포함)
    const returnUrl = `/payment/</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\settings\SettingsClient.tsx (Line 174:2 - Line 184:3), src\app\mypage\settings\SettingsClient.tsx (Line 162:2 - Line 172:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn181" onclick="toggleCodeBlock('cloneGroup181', 'expandBtn181', 'collapseBtn181')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup181"><code class="language-tsx text-sm text-gray-800">알림을 받습니다
                        &lt;/div&gt;
                      &lt;/div&gt;
                      &lt;span className=&quot;text-xs text-green-600 font-medium&quot;&gt;켜짐&lt;/span&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;

                  &lt;div className=&quot;p-3 border border-gray-200 rounded-lg&quot;&gt;
                    &lt;div className=&quot;flex items-center justify-between&quot;&gt;
                      &lt;div&gt;
                        &lt;div className=&quot;text-sm font-medium text-gray-900&quot;&gt;리뷰</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\notifications\NotificationsClient.tsx (Line 20:15 - Line 36:10), src\app\mypage\notifications\page.tsx (Line 9:2 - Line 25:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn182" onclick="toggleCodeBlock('cloneGroup182', 'expandBtn182', 'collapseBtn182')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup182"><code class="language-tsx text-sm text-gray-800">;

interface Notification {
  id: string;
  user_id: string;
  type: string;
  title: string;
  message: string;
  link: string | null;
  is_read: boolean;
  created_at: string;
  order_id: string | null;
  sender_id: string | null;
  metadata: Record&lt;string, unknown&gt; | null;
}

interface</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\mypage\notifications\NotificationsClient.tsx (Line 308:2 - Line 324:7), src\app\mypage\notifications\NotificationsClient.tsx (Line 280:23 - Line 296:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn183" onclick="toggleCodeBlock('cloneGroup183', 'expandBtn183', 'collapseBtn183')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup183"><code class="language-tsx text-sm text-gray-800">&gt;
                        &lt;div
                          className={`p-2 lg:p-3 rounded-full bg-gray-100 flex-shrink-0 ${color}`}
                        &gt;
                          &lt;Icon className=&quot;w-4 h-4 lg:w-5 lg:h-5&quot; /&gt;
                        &lt;/div&gt;
                        &lt;div className=&quot;flex-1 min-w-0&quot;&gt;
                          &lt;div className=&quot;flex items-start justify-between gap-2 mb-0.5&quot;&gt;
                            &lt;h3
                              className={`text-sm font-medium ${
                                notification.is_read ? 'text-gray-700' : 'text-gray-900'
                              }`}
                            &gt;
                              {notification.title}
                            &lt;/h3&gt;
                            {!notification.is_read &amp;&amp; (
                              &lt;button</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\helper\guide\page.tsx (Line 170:24 - Line 187:74), src\app\seller\guide\page.tsx (Line 153:21 - Line 170:77)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn184" onclick="toggleCodeBlock('cloneGroup184', 'expandBtn184', 'collapseBtn184')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup184"><code class="language-tsx text-sm text-gray-800">,
    step: steps.map((s, index) =&gt; ({
      '@type': 'HowToStep',
      position: index + 1,
      name: s.title,
      text: s.description,
    })),
  };

  return (
    &lt;div className=&quot;min-h-screen bg-gray-50&quot;&gt;
      &lt;script
        type=&quot;application/ld+json&quot;
        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
      /&gt;

      {/* Hero */}
      &lt;section className=&quot;bg-gradient-to-br from-orange-500 to-orange-600 text-white py-10 md:py-12</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\help\notice\page.tsx (Line 18:1 - Line 35:11), src\app\help\notice\[id]\page.tsx (Line 20:1 - Line 37:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn185" onclick="toggleCodeBlock('cloneGroup185', 'expandBtn185', 'collapseBtn185')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup185"><code class="language-tsx text-sm text-gray-800">function getCategoryStyle(category: string) {
  switch (category) {
    case '공지':
      return 'bg-brand-primary text-white';
    case '이벤트':
      return 'bg-green-100 text-green-800';
    case '업데이트':
      return 'bg-blue-100 text-blue-800';
    case '점검':
      return 'bg-yellow-100 text-yellow-800';
    case '정책':
      return 'bg-gray-100 text-gray-800';
    default:
      return 'bg-gray-100 text-gray-800';
  }
}

export default function NoticePage</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\help\faq\page.tsx (Line 99:2 - Line 113:3), src\app\seller\guide\page.tsx (Line 159:2 - Line 172:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn186" onclick="toggleCodeBlock('cloneGroup186', 'expandBtn186', 'collapseBtn186')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup186"><code class="language-tsx text-sm text-gray-800">)
    ),
  };

  return (
    &lt;div className=&quot;min-h-screen bg-gray-50&quot;&gt;
      &lt;script
        type=&quot;application/ld+json&quot;
        dangerouslySetInnerHTML={{ __html: JSON.stringify(faqSchema) }}
      /&gt;

      {/* Hero */}
      &lt;section className=&quot;bg-gradient-to-br from-brand-primary to-brand-dark text-white py-10 md:py-12&quot;&gt;
        &lt;div className=&quot;container-1200 px-4&quot;&gt;
          &lt;h1 className=&quot;text-2xl md:text-3xl font-bold mb-3&quot;&gt;자주</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\page.tsx (Line 112:2 - Line 133:16), src\app\errands\[id]\apply\page.tsx (Line 24:7 - Line 46:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn187" onclick="toggleCodeBlock('cloneGroup187', 'expandBtn187', 'collapseBtn187')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup187"><code class="language-tsx text-sm text-gray-800">;

  useEffect(() =&gt; {
    if (!id) return;

    const fetchErrand = async () =&gt; {
      try {
        setLoading(true);
        const res = await fetch(`/api/errands/${id}`);

        if (!res.ok) {
          if (res.status === 404) {
            setError('심부름을 찾을 수 없습니다');
          } else {
            setError('심부름 정보를 불러올 수 없습니다');
          }
          return;
        }

        const data = await res.json();
        setErrand(data.errand);
        setApplications</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\page.tsx (Line 308:21 - Line 317:4), src\app\errands\[id]\page.tsx (Line 263:23 - Line 272:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn188" onclick="toggleCodeBlock('cloneGroup188', 'expandBtn188', 'collapseBtn188')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup188"><code class="language-tsx text-sm text-gray-800">&quot; fill=&quot;currentColor&quot; viewBox=&quot;0 0 20 20&quot;&gt;
                    &lt;path
                      fillRule=&quot;evenodd&quot;
                      d=&quot;M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z&quot;
                      clipRule=&quot;evenodd&quot;
                    /&gt;
                  &lt;/svg&gt;
                &lt;/div&gt;
                &lt;div className=&quot;flex-1&quot;&gt;
                  &lt;div className=&quot;text-sm text-gray-500&quot;&gt;도착지</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\page.tsx (Line 628:2 - Line 642:5), src\app\errands\[id]\page.tsx (Line 582:2 - Line 596:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn189" onclick="toggleCodeBlock('cloneGroup189', 'expandBtn189', 'collapseBtn189')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup189"><code class="language-tsx text-sm text-gray-800">&amp;&amp; (
                &lt;&gt;
                  &lt;Link
                    href={`/errands/${id}/chat`}
                    className=&quot;px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2&quot;
                  &gt;
                    &lt;svg className=&quot;w-5 h-5&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;
                      &lt;path
                        strokeLinecap=&quot;round&quot;
                        strokeLinejoin=&quot;round&quot;
                        strokeWidth={2}
                        d=&quot;M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z&quot;
                      /&gt;
                    &lt;/svg&gt;
                    요청자와</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\page.tsx (Line 668:2 - Line 691:12), src\app\errands\[id]\page.tsx (Line 582:2 - Line 651:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn190" onclick="toggleCodeBlock('cloneGroup190', 'expandBtn190', 'collapseBtn190')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn190" onclick="toggleCodeBlock('cloneGroup190', 'expandBtn190', 'collapseBtn190')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup190"><code class="language-tsx text-sm text-gray-800">&amp;&amp; (
                &lt;&gt;
                  &lt;Link
                    href={`/errands/${id}/chat`}
                    className=&quot;px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2&quot;
                  &gt;
                    &lt;svg className=&quot;w-5 h-5&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;
                      &lt;path
                        strokeLinecap=&quot;round&quot;
                        strokeLinejoin=&quot;round&quot;
                        strokeWidth={2}
                        d=&quot;M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z&quot;
                      /&gt;
                    &lt;/svg&gt;
                    요청자와 대화
                  &lt;/Link&gt;
                  &lt;button
                    onClick={async () =&gt; {
                      setActionLoading(true);
                      try {
                        const res = await fetch(`/api/errands/${id}`, {
                          method: 'PATCH',
                          headers: { 'Content-Type': 'application/json' },
                          body: JSON.stringify({ status: 'COMPLETED'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\page.tsx (Line 691:2 - Line 704:3), src\app\errands\[id]\page.tsx (Line 651:2 - Line 664:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn191" onclick="toggleCodeBlock('cloneGroup191', 'expandBtn191', 'collapseBtn191')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn191" onclick="toggleCodeBlock('cloneGroup191', 'expandBtn191', 'collapseBtn191')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup191"><code class="language-tsx text-sm text-gray-800">}),
                        });
                        if (res.ok) {
                          const data = await res.json();
                          setErrand((prev) =&gt; (prev ? { ...prev, ...data.errand } : null));
                        }
                      } finally {
                        setActionLoading(false);
                      }
                    }}
                    disabled={actionLoading}
                    className=&quot;px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50&quot;
                  &gt;
                    완료</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\[id]\layout.tsx (Line 2:24 - Line 13:7), src\app\experts\[id]\page.tsx (Line 9:16 - Line 20:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn192" onclick="toggleCodeBlock('cloneGroup192', 'expandBtn192', 'collapseBtn192')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn192" onclick="toggleCodeBlock('cloneGroup192', 'expandBtn192', 'collapseBtn192')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup192"><code class="language-tsx text-sm text-gray-800">;

// 동적 메타데이터 생성
export async function generateMetadata({
  params,
}: {
  params: Promise&lt;{ id: string }&gt;;
}): Promise&lt;Metadata&gt; {
  const { id } = await params;
  const supabase = await createClient();

  const { data: errand</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\page.tsx (Line 198:23 - Line 204:3), src\app\errands\mypage\helper\jobs\page.tsx (Line 169:23 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn193" onclick="toggleCodeBlock('cloneGroup193', 'expandBtn193', 'collapseBtn193')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn193" onclick="toggleCodeBlock('cloneGroup193', 'expandBtn193', 'collapseBtn193')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup193"><code class="language-tsx text-sm text-gray-800">&lt;/div&gt;
                      &lt;h3 className=&quot;font-medium text-gray-900 truncate&quot;&gt;{errand.title}&lt;/h3&gt;
                      &lt;div className=&quot;flex items-center gap-1 text-xs text-gray-500 mt-1&quot;&gt;
                        &lt;MapPin className=&quot;w-3 h-3&quot; /&gt;
                        &lt;span className=&quot;truncate&quot;&gt;{errand.pickup_address}&lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\errands\mypage\page.tsx (Line 203:4 - Line 215:2), src\app\errands\mypage\helper\jobs\page.tsx (Line 177:2 - Line 190:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn194" onclick="toggleCodeBlock('cloneGroup194', 'expandBtn194', 'collapseBtn194')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn194" onclick="toggleCodeBlock('cloneGroup194', 'expandBtn194', 'collapseBtn194')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup194"><code class="language-tsx text-sm text-gray-800">&gt;
                    &lt;/div&gt;
                    &lt;div className=&quot;text-right flex-shrink-0&quot;&gt;
                      &lt;p className=&quot;font-bold text-blue-600&quot;&gt;
                        {errand.total_price.toLocaleString()}원
                      &lt;/p&gt;
                      &lt;p className=&quot;text-xs text-gray-500&quot;&gt;
                        {new Date(errand.created_at).toLocaleDateString('ko-KR')}
                      &lt;/p&gt;
                    &lt;/div&gt;
                    &lt;ChevronRight className=&quot;w-5 h-5 text-gray-400 flex-shrink-0&quot; /&gt;
                  &lt;/Link&gt;
                )</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\refund\page.tsx (Line 195:13 - Line 205:15), src\app\seller\guide\page.tsx (Line 261:13 - Line 271:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn195" onclick="toggleCodeBlock('cloneGroup195', 'expandBtn195', 'collapseBtn195')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn195" onclick="toggleCodeBlock('cloneGroup195', 'expandBtn195', 'collapseBtn195')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup195"><code class="language-tsx text-sm text-gray-800">&lt;ArrowRight className=&quot;w-4 h-4&quot; /&gt;
          &lt;/Link&gt;
        &lt;/div&gt;
      &lt;/section&gt;

      {/* Related Links */}
      &lt;section className=&quot;py-10 md:py-12&quot;&gt;
        &lt;div className=&quot;container-1200 px-4&quot;&gt;
          &lt;div className=&quot;grid grid-cols-1 md:grid-cols-2 gap-3 max-w-md mx-auto&quot;&gt;
            &lt;Link
              href=&quot;/buyer/payment</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\payment\page.tsx (Line 181:3 - Line 196:2), src\app\buyer\refund\page.tsx (Line 208:3 - Line 223:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn196" onclick="toggleCodeBlock('cloneGroup196', 'expandBtn196', 'collapseBtn196')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn196" onclick="toggleCodeBlock('cloneGroup196', 'expandBtn196', 'collapseBtn196')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup196"><code class="language-tsx text-sm text-gray-800">&lt;/span&gt;
              &lt;ArrowRight className=&quot;w-4 h-4 text-gray-400&quot; /&gt;
            &lt;/Link&gt;
            &lt;Link
              href=&quot;/buyer/guide&quot;
              className=&quot;flex items-center justify-between bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow&quot;
            &gt;
              &lt;span className=&quot;text-sm font-medium&quot;&gt;구매자 가이드&lt;/span&gt;
              &lt;ArrowRight className=&quot;w-4 h-4 text-gray-400&quot; /&gt;
            &lt;/Link&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/section&gt;
    &lt;/div&gt;
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\how-to-order\page.tsx (Line 188:7 - Line 201:24), src\app\buyer\refund\page.tsx (Line 189:7 - Line 201:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn197" onclick="toggleCodeBlock('cloneGroup197', 'expandBtn197', 'collapseBtn197')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn197" onclick="toggleCodeBlock('cloneGroup197', 'expandBtn197', 'collapseBtn197')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup197"><code class="language-tsx text-sm text-gray-800">.
          &lt;/p&gt;
          &lt;Link
            href=&quot;/help/contact&quot;
            className=&quot;inline-flex items-center gap-2 px-5 py-2.5 bg-brand-primary text-white text-sm font-medium rounded-lg hover:bg-brand-dark transition-colors&quot;
          &gt;
            1:1 문의하기
            &lt;ArrowRight className=&quot;w-4 h-4&quot; /&gt;
          &lt;/Link&gt;
        &lt;/div&gt;
      &lt;/section&gt;

      {/* Related Links */}
      &lt;section className=&quot;py-10 md:py-12 bg-white</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\guide\page.tsx (Line 116:7 - Line 127:4), src\app\buyer\how-to-order\page.tsx (Line 118:6 - Line 129:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn198" onclick="toggleCodeBlock('cloneGroup198', 'expandBtn198', 'collapseBtn198')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn198" onclick="toggleCodeBlock('cloneGroup198', 'expandBtn198', 'collapseBtn198')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup198"><code class="language-tsx text-sm text-gray-800">.
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/section&gt;

      {/* Benefits */}
      &lt;BenefitsSection benefits={benefits} gridClassName=&quot;grid-cols-3&quot; /&gt;

      {/* Steps */}
      &lt;section className=&quot;py-10 md:py-12&quot;&gt;
        &lt;div className=&quot;container-1200 px-4&quot;&gt;
          &lt;h2 className=&quot;text-lg md:text-xl font-bold text-center mb-8&quot;&gt;서비스</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\guide\page.tsx (Line 144:24 - Line 149:26), src\app\helper\guide\page.tsx (Line 393:15 - Line 398:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn199" onclick="toggleCodeBlock('cloneGroup199', 'expandBtn199', 'collapseBtn199')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn199" onclick="toggleCodeBlock('cloneGroup199', 'expandBtn199', 'collapseBtn199')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup199"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
        &lt;div className=&quot;container-1200 px-4&quot;&gt;
          &lt;h2 className=&quot;text-lg md:text-xl font-bold text-center mb-6&quot;&gt;자주 묻는 질문&lt;/h2&gt;
          &lt;div className=&quot;max-w-2xl mx-auto space-y-3&quot;&gt;
            {faqs.map((faq) =&gt; (
              &lt;div key={faq.question} className=&quot;bg-gray-50 rounded-lg p-4</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\guide\page.tsx (Line 151:48 - Line 163:20), src\app\helper\guide\page.tsx (Line 400:45 - Line 412:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn200" onclick="toggleCodeBlock('cloneGroup200', 'expandBtn200', 'collapseBtn200')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn200" onclick="toggleCodeBlock('cloneGroup200', 'expandBtn200', 'collapseBtn200')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup200"><code class="language-tsx text-sm text-gray-800">&quot; /&gt;
                  &lt;div&gt;
                    &lt;h3 className=&quot;text-sm font-semibold mb-1&quot;&gt;{faq.question}&lt;/h3&gt;
                    &lt;p className=&quot;text-xs text-gray-600 leading-relaxed&quot;&gt;{faq.answer}&lt;/p&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            ))}
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/section&gt;

      {/* Related Links */</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\guide\page.tsx (Line 167:56 - Line 176:14), src\app\buyer\refund\page.tsx (Line 203:55 - Line 212:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn201" onclick="toggleCodeBlock('cloneGroup201', 'expandBtn201', 'collapseBtn201')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn201" onclick="toggleCodeBlock('cloneGroup201', 'expandBtn201', 'collapseBtn201')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup201"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
            &lt;Link
              href=&quot;/buyer/payment&quot;
              className=&quot;flex items-center justify-between bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow&quot;
            &gt;
              &lt;span className=&quot;text-sm font-medium&quot;&gt;결제 안내&lt;/span&gt;
              &lt;ArrowRight className=&quot;w-4 h-4 text-gray-400&quot; /&gt;
            &lt;/Link&gt;
            &lt;Link
              href=&quot;/buyer/refund</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\buyer\guide\page.tsx (Line 174:5 - Line 183:10), src\app\buyer\payment\page.tsx (Line 176:2 - Line 185:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn202" onclick="toggleCodeBlock('cloneGroup202', 'expandBtn202', 'collapseBtn202')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn202" onclick="toggleCodeBlock('cloneGroup202', 'expandBtn202', 'collapseBtn202')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup202"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;Link
              href=&quot;/buyer/refund&quot;
              className=&quot;flex items-center justify-between bg-white rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow&quot;
            &gt;
              &lt;span className=&quot;text-sm font-medium&quot;&gt;환불 정책&lt;/span&gt;
              &lt;ArrowRight className=&quot;w-4 h-4 text-gray-400&quot; /&gt;
            &lt;/Link&gt;
            &lt;Link
              href=&quot;/help/faq</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\register\page.tsx (Line 539:297 - Line 560:20), src\app\auth\register\page.tsx (Line 478:297 - Line 499:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn203" onclick="toggleCodeBlock('cloneGroup203', 'expandBtn203', 'collapseBtn203')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn203" onclick="toggleCodeBlock('cloneGroup203', 'expandBtn203', 'collapseBtn203')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup203"><code class="language-tsx text-sm text-gray-800">&quot;
                      /&gt;
                    &lt;/svg&gt;
                  ) : (
                    &lt;svg className=&quot;w-5 h-5&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;
                      &lt;path
                        strokeLinecap=&quot;round&quot;
                        strokeLinejoin=&quot;round&quot;
                        strokeWidth={2}
                        d=&quot;M15 12a3 3 0 11-6 0 3 3 0 016 0z&quot;
                      /&gt;
                      &lt;path
                        strokeLinecap=&quot;round&quot;
                        strokeLinejoin=&quot;round&quot;
                        strokeWidth={2}
                        d=&quot;M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z&quot;
                      /&gt;
                    &lt;/svg&gt;
                  )}
                &lt;/button&gt;
              &lt;/div&gt;
              {/* 비밀번호 일치 여부 표시 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\register\page.tsx (Line 634:19 - Line 651:4), src\app\auth\register\page.tsx (Line 619:19 - Line 632:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn204" onclick="toggleCodeBlock('cloneGroup204', 'expandBtn204', 'collapseBtn204')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn204" onclick="toggleCodeBlock('cloneGroup204', 'expandBtn204', 'collapseBtn204')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup204"><code class="language-tsx text-sm text-gray-800">&lt;/Link&gt;
                  에 동의합니다 *
                &lt;/span&gt;
              &lt;/label&gt;

              &lt;label className=&quot;flex items-center&quot;&gt;
                &lt;input
                  type=&quot;checkbox&quot;
                  checked={formData.agreeMarketing}
                  onChange={(e) =&gt;
                    setFormData({
                      ...formData,
                      agreeMarketing: e.target.checked,
                    })
                  }
                  className=&quot;mr-2&quot;
                /&gt;
                &lt;span className=&quot;text-sm text-gray-600&quot;&gt;마케팅</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\login\page.tsx (Line 69:7 - Line 82:6), src\app\auth\register\page.tsx (Line 259:7 - Line 272:41)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn205" onclick="toggleCodeBlock('cloneGroup205', 'expandBtn205', 'collapseBtn205')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn205" onclick="toggleCodeBlock('cloneGroup205', 'expandBtn205', 'collapseBtn205')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup205"><code class="language-tsx text-sm text-gray-800">setIsLoading(false);
    }
  };

  // SNS 로그인 핸들러
  const handleSocialLogin = async (provider: 'kakao' | 'google' | 'apple') =&gt; {
    try {
      setIsLoading(true);
      setError(null);

      // OAuth 리다이렉트 URL 검증 (CRITICAL 보안)
      const redirectUrl = getSecureRedirectUrl(globalThis.location.origin, '/auth/callback');

      const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\login\page.tsx (Line 85:12 - Line 99:59), src\app\auth\register\page.tsx (Line 281:2 - Line 295:65)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn206" onclick="toggleCodeBlock('cloneGroup206', 'expandBtn206', 'collapseBtn206')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn206" onclick="toggleCodeBlock('cloneGroup206', 'expandBtn206', 'collapseBtn206')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup206"><code class="language-tsx text-sm text-gray-800">,
        },
      });

      if (error) throw error;
    } catch (error: unknown) {
      logger.error('SNS 로그인 실패:', error);
      const message = error instanceof Error ? error.message : 'SNS 로그인 중 오류가 발생했습니다.';
      setError(message);
      setIsLoading(false);
    }
  };

  return (
    &lt;div className=&quot;min-h-screen flex items-center justify-center bg-[#E1E3E7]</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\login\page.tsx (Line 102:17 - Line 113:4), src\app\auth\register\page.tsx (Line 298:18 - Line 309:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn207" onclick="toggleCodeBlock('cloneGroup207', 'expandBtn207', 'collapseBtn207')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn207" onclick="toggleCodeBlock('cloneGroup207', 'expandBtn207', 'collapseBtn207')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup207"><code class="language-tsx text-sm text-gray-800">}
          &lt;div className=&quot;space-y-3 mb-6&quot;&gt;
            &lt;button
              type=&quot;button&quot;
              onClick={() =&gt; handleSocialLogin('kakao')}
              disabled={isLoading}
              className=&quot;w-full flex items-center justify-center gap-3 bg-[#FEE500] hover:bg-[#F5DC00] text-[#000000] font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50&quot;
            &gt;
              &lt;svg className=&quot;w-5 h-5&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;currentColor&quot;&gt;
                &lt;path d=&quot;M12 3C6.48 3 2 6.58 2 11c0 2.78 1.83 5.23 4.58 6.76-.2.74-.77 2.84-.89 3.29-.14.52.19.51.4.37.16-.11 2.56-1.76 2.97-2.04.62.08 1.27.12 1.94.12 5.52 0 10-3.58 10-8S17.52 3 12 3z&quot; /&gt;
              &lt;/svg&gt;
              카카오로 로그인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\login\page.tsx (Line 114:13 - Line 140:4), src\app\auth\register\page.tsx (Line 310:13 - Line 336:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn208" onclick="toggleCodeBlock('cloneGroup208', 'expandBtn208', 'collapseBtn208')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn208" onclick="toggleCodeBlock('cloneGroup208', 'expandBtn208', 'collapseBtn208')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup208"><code class="language-tsx text-sm text-gray-800">&lt;/button&gt;

            &lt;button
              type=&quot;button&quot;
              onClick={() =&gt; handleSocialLogin('google')}
              disabled={isLoading}
              className=&quot;w-full flex items-center justify-center gap-3 bg-white hover:bg-gray-50 text-gray-700 font-semibold py-3 px-4 rounded-lg border border-gray-300 transition-colors disabled:opacity-50&quot;
            &gt;
              &lt;svg className=&quot;w-5 h-5&quot; viewBox=&quot;0 0 24 24&quot;&gt;
                &lt;path
                  fill=&quot;#4285F4&quot;
                  d=&quot;M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z&quot;
                /&gt;
                &lt;path
                  fill=&quot;#34A853&quot;
                  d=&quot;M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z&quot;
                /&gt;
                &lt;path
                  fill=&quot;#FBBC05&quot;
                  d=&quot;M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z&quot;
                /&gt;
                &lt;path
                  fill=&quot;#EA4335&quot;
                  d=&quot;M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z&quot;
                /&gt;
              &lt;/svg&gt;
              구글로 로그인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\login\page.tsx (Line 153:25 - Line 162:4), src\app\auth\register\page.tsx (Line 349:25 - Line 358:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn209" onclick="toggleCodeBlock('cloneGroup209', 'expandBtn209', 'collapseBtn209')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn209" onclick="toggleCodeBlock('cloneGroup209', 'expandBtn209', 'collapseBtn209')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup209"><code class="language-tsx text-sm text-gray-800">}
          &lt;/div&gt;

          {/* 구분선 */}
          &lt;div className=&quot;relative mb-6&quot;&gt;
            &lt;div className=&quot;absolute inset-0 flex items-center&quot;&gt;
              &lt;div className=&quot;w-full border-t border-gray-300&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
            &lt;div className=&quot;relative flex justify-center text-sm&quot;&gt;
              &lt;span className=&quot;px-4 bg-white text-gray-500&quot;&gt;또는 이메일로 로그인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\auth\forgot-password\page.tsx (Line 16:5 - Line 25:19), src\app\auth\login\page.tsx (Line 18:2 - Line 27:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn210" onclick="toggleCodeBlock('cloneGroup210', 'expandBtn210', 'collapseBtn210')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn210" onclick="toggleCodeBlock('cloneGroup210', 'expandBtn210', 'collapseBtn210')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup210"><code class="language-tsx text-sm text-gray-800">);
  const supabase = createClient();

  const handleSubmit = async (e: React.FormEvent) =&gt; {
    e.preventDefault();

    // Rate Limiting 체크
    if (lockoutUntil &amp;&amp; Date.now() &lt; lockoutUntil) {
      const remainingSeconds = Math.ceil((lockoutUntil - Date.now()) / 1000);
      setError(`너무 많은 시도가 있었습니다. </code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\tax-invoices\page.tsx (Line 111:3 - Line 122:7), src\app\admin\tax-invoices\[id]\page.tsx (Line 86:3 - Line 97:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn222" onclick="toggleCodeBlock('cloneGroup222', 'expandBtn222', 'collapseBtn222')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn222" onclick="toggleCodeBlock('cloneGroup222', 'expandBtn222', 'collapseBtn222')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup222"><code class="language-tsx text-sm text-gray-800">if (loading) {
    return (
      &lt;div className=&quot;flex items-center justify-center min-h-[400px]&quot;&gt;
        &lt;div className=&quot;text-center&quot;&gt;
          &lt;div className=&quot;inline-block w-12 h-12 border-4 border-brand-primary border-t-transparent rounded-full animate-spin mb-4&quot;&gt;&lt;/div&gt;
          &lt;p className=&quot;text-gray-600&quot;&gt;로딩 중...&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    );
  }

  return</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\service-revisions\page.tsx (Line 28:15 - Line 38:14), src\app\admin\services\page.tsx (Line 19:14 - Line 29:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn223" onclick="toggleCodeBlock('cloneGroup223', 'expandBtn223', 'collapseBtn223')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn223" onclick="toggleCodeBlock('cloneGroup223', 'expandBtn223', 'collapseBtn223')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup223"><code class="language-tsx text-sm text-gray-800">&gt;('pending');
  const [searchQuery, setSearchQuery] = useState('');
  const [statusCounts, setStatusCounts] = useState({
    all: 0,
    pending: 0,
    approved: 0,
    rejected: 0,
  });

  useEffect(() =&gt; {
    loadRevisions</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\service-revisions\page.tsx (Line 216:19 - Line 227:4), src\app\admin\services\page.tsx (Line 168:15 - Line 179:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn224" onclick="toggleCodeBlock('cloneGroup224', 'expandBtn224', 'collapseBtn224')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn224" onclick="toggleCodeBlock('cloneGroup224', 'expandBtn224', 'collapseBtn224')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup224"><code class="language-tsx text-sm text-gray-800">&lt;/th&gt;
                  &lt;th className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;
                    전문가
                  &lt;/th&gt;
                  &lt;th className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;
                    가격
                  &lt;/th&gt;
                  &lt;th className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;
                    상태
                  &lt;/th&gt;
                  &lt;th className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;
                    요청일</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\orders\page.tsx (Line 127:22 - Line 144:5), src\app\admin\services\page.tsx (Line 150:18 - Line 167:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn225" onclick="toggleCodeBlock('cloneGroup225', 'expandBtn225', 'collapseBtn225')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn225" onclick="toggleCodeBlock('cloneGroup225', 'expandBtn225', 'collapseBtn225')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup225"><code class="language-tsx text-sm text-gray-800">&quot;
      isLoading={loading}
      error={error}
      onRetry={loadOrders}
      filteredCount={filteredOrders.length}
      isEmpty={filteredOrders.length === 0}
      emptyStateProps={{
        icon: 'fa-shopping-cart',
        title: '주문이 없습니다',
        description: '검색 조건에 맞는 주문이 없습니다',
      }}
    &gt;
      &lt;div className=&quot;overflow-x-auto&quot;&gt;
        &lt;table className=&quot;w-full&quot;&gt;
          &lt;thead className=&quot;bg-gray-50 border-b border-gray-200&quot;&gt;
            &lt;tr&gt;
              &lt;th className=&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider&quot;&gt;
                주문번호</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\inquiries\page.tsx (Line 234:8 - Line 243:6), src\app\admin\notices\page.tsx (Line 330:7 - Line 339:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn226" onclick="toggleCodeBlock('cloneGroup226', 'expandBtn226', 'collapseBtn226')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn226" onclick="toggleCodeBlock('cloneGroup226', 'expandBtn226', 'collapseBtn226')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup226"><code class="language-tsx text-sm text-gray-800">.created_at).toLocaleDateString('ko-KR', {
                      timeZone: 'Asia/Seoul',
                    })}
                  &lt;/td&gt;
                  &lt;td className=&quot;px-4 py-3&quot;&gt;
                    &lt;div className=&quot;flex items-center justify-center gap-2&quot;&gt;
                      &lt;button
                        onClick={() =&gt; openDetailModal(inquiry)}
                        className=&quot;p-1.5 text-gray-600 hover:text-brand-primary hover:bg-gray-100 rounded&quot;
                        title=&quot;상세 보기</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\advertising\page.tsx (Line 181:2 - Line 188:8), src\app\admin\advertising\statistics\page.tsx (Line 252:2 - Line 259:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn227" onclick="toggleCodeBlock('cloneGroup227', 'expandBtn227', 'collapseBtn227')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn227" onclick="toggleCodeBlock('cloneGroup227', 'expandBtn227', 'collapseBtn227')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup227"><code class="language-tsx text-sm text-gray-800">(
        &lt;div className=&quot;grid gap-6 md:grid-cols-3&quot;&gt;
          &lt;div className=&quot;bg-white rounded-lg border border-slate-200 p-6&quot;&gt;
            &lt;div className=&quot;flex items-start justify-between&quot;&gt;
              &lt;div&gt;
                &lt;p className=&quot;text-sm font-medium text-slate-600 mb-2&quot;&gt;총 수익&lt;/p&gt;
                &lt;p className=&quot;text-3xl font-semibold text-slate-900&quot;&gt;
                  ₩{summary</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\admin\advertising\page.tsx (Line 284:2 - Line 296:4), src\app\admin\advertising\credits\page.tsx (Line 239:2 - Line 251:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn228" onclick="toggleCodeBlock('cloneGroup228', 'expandBtn228', 'collapseBtn228')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn228" onclick="toggleCodeBlock('cloneGroup228', 'expandBtn228', 'collapseBtn228')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup228"><code class="language-tsx text-sm text-gray-800">없습니다.&lt;/p&gt;
            &lt;/div&gt;
          ) : (
            &lt;div className=&quot;bg-white rounded-lg border border-slate-200 overflow-hidden&quot;&gt;
              &lt;div className=&quot;overflow-x-auto&quot;&gt;
                &lt;table className=&quot;w-full&quot;&gt;
                  &lt;thead className=&quot;border-b border-slate-200 bg-slate-50&quot;&gt;
                    &lt;tr&gt;
                      &lt;th className=&quot;px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-700&quot;&gt;
                        전문가
                      &lt;/th&gt;
                      &lt;th className=&quot;px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-700&quot;&gt;
                        서비스</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\purchase-flow.test.tsx (Line 126:7 - Line 131:2), src\__tests__\integration\purchase-flow.test.tsx (Line 112:9 - Line 118:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn229" onclick="toggleCodeBlock('cloneGroup229', 'expandBtn229', 'collapseBtn229')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn229" onclick="toggleCodeBlock('cloneGroup229', 'expandBtn229', 'collapseBtn229')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup229"><code class="language-tsx text-sm text-gray-800">return {
        select: vi.fn().mockReturnThis(),
        eq: vi.fn().mockReturnThis(),
        single: vi.fn().mockResolvedValue({ data: null, error: null }),
      };
    })</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\purchase-flow.test.tsx (Line 205:7 - Line 213:7), src\__tests__\integration\purchase-flow.test.tsx (Line 95:7 - Line 103:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn230" onclick="toggleCodeBlock('cloneGroup230', 'expandBtn230', 'collapseBtn230')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn230" onclick="toggleCodeBlock('cloneGroup230', 'expandBtn230', 'collapseBtn230')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup230"><code class="language-tsx text-sm text-gray-800">if (table === 'services') {
        return {
          select: vi.fn().mockReturnThis(),
          eq: vi.fn().mockReturnThis(),
          single: vi.fn().mockResolvedValue({
            data: {
              id: 'service-456',
              title: 'Integration Test Service',
              price: 999999</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\purchase-flow.test.tsx (Line 222:7 - Line 232:7), src\__tests__\integration\purchase-flow.test.tsx (Line 85:7 - Line 95:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn231" onclick="toggleCodeBlock('cloneGroup231', 'expandBtn231', 'collapseBtn231')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn231" onclick="toggleCodeBlock('cloneGroup231', 'expandBtn231', 'collapseBtn231')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup231"><code class="language-tsx text-sm text-gray-800">if (table === 'sellers') {
        return {
          select: vi.fn().mockReturnThis(),
          eq: vi.fn().mockReturnThis(),
          single: vi.fn().mockResolvedValue({
            data: { id: 'seller-123', user_id: 'seller-user-123' },
            error: null,
          }),
        };
      }
      return</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\purchase-flow.test.tsx (Line 229:11 - Line 236:12), src\__tests__\integration\purchase-flow.test.tsx (Line 123:2 - Line 130:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn232" onclick="toggleCodeBlock('cloneGroup232', 'expandBtn232', 'collapseBtn232')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn232" onclick="toggleCodeBlock('cloneGroup232', 'expandBtn232', 'collapseBtn232')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup232"><code class="language-tsx text-sm text-gray-800">}),
        };
      }
      return {
        select: vi.fn().mockReturnThis(),
        eq: vi.fn().mockReturnThis(),
        single: vi.fn().mockResolvedValue({ data: null, error: null }),
        maybeSingle</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\chat-flow.test.tsx (Line 42:2 - Line 55:58), src\__tests__\integration\purchase-flow.test.tsx (Line 27:2 - Line 40:69)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn233" onclick="toggleCodeBlock('cloneGroup233', 'expandBtn233', 'collapseBtn233')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn233" onclick="toggleCodeBlock('cloneGroup233', 'expandBtn233', 'collapseBtn233')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup233"><code class="language-tsx text-sm text-gray-800">,
}));

// 3. Mock Logger
vi.mock('@/lib/logger', () =&gt; ({
  logger: {
    error: mocks.loggerError,
    info: mocks.loggerInfo,
    warn: mocks.loggerWarn,
    debug: mocks.loggerDebug,
  },
}));

// 4. Mock ProfileImage (to avoid Image component issues)</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\chat-flow.test.tsx (Line 130:9 - Line 138:2), src\__tests__\integration\purchase-flow.test.tsx (Line 124:9 - Line 133:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn234" onclick="toggleCodeBlock('cloneGroup234', 'expandBtn234', 'collapseBtn234')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn234" onclick="toggleCodeBlock('cloneGroup234', 'expandBtn234', 'collapseBtn234')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup234"><code class="language-tsx text-sm text-gray-800">};
      }
      return {
        select: vi.fn().mockReturnThis(),
        eq: vi.fn().mockReturnThis(),
        single: vi.fn().mockResolvedValue({ data: null, error: null }),
      };
    });
  }</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\chat-flow.test.tsx (Line 154:45 - Line 168:7), src\__tests__\integration\purchase-flow.test.tsx (Line 244:53 - Line 255:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn235" onclick="toggleCodeBlock('cloneGroup235', 'expandBtn235', 'collapseBtn235')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn235" onclick="toggleCodeBlock('cloneGroup235', 'expandBtn235', 'collapseBtn235')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup235"><code class="language-tsx text-sm text-gray-800">, {
          method: 'POST',
          body: JSON.stringify(body),
        });

        const response = await POST(req);
        const responseData = await response.json();

        return {
          ok: response.status &gt;= 200 &amp;&amp; response.status &lt; 300,
          status: response.status,
          json: () =&gt; Promise.resolve(responseData),
        };
      }
      return</code></pre></div><div class="py-4"><p class="text-gray-600">src\__tests__\integration\chat-flow.test.tsx (Line 160:9 - Line 172:13), src\__tests__\integration\purchase-flow.test.tsx (Line 163:9 - Line 175:23)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn236" onclick="toggleCodeBlock('cloneGroup236', 'expandBtn236', 'collapseBtn236')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn236" onclick="toggleCodeBlock('cloneGroup236', 'expandBtn236', 'collapseBtn236')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup236"><code class="language-tsx text-sm text-gray-800">const responseData = await response.json();

        return {
          ok: response.status &gt;= 200 &amp;&amp; response.status &lt; 300,
          status: response.status,
          json: () =&gt; Promise.resolve(responseData),
        };
      }
      return Promise.reject(new Error(`Unknown URL: ${url}`));
    });
    global.fetch = mockFetch;

    // 2. Render</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\services\ServiceCard.tsx (Line 155:11 - Line 160:11), src\app\mypage\buyer\favorites\page.tsx (Line 186:2 - Line 193:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn244" onclick="toggleCodeBlock('cloneGroup244', 'expandBtn244', 'collapseBtn244')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn244" onclick="toggleCodeBlock('cloneGroup244', 'expandBtn244', 'collapseBtn244')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup244"><code class="language-tsx text-sm text-gray-800">&gt;
            {service.seller?.display_name?.[0] || 'S'}
          &lt;/div&gt;
          &lt;span className=&quot;text-xs text-gray-600 truncate&quot;&gt;{service.seller?.display_name}&lt;/span&gt;
          {service.seller?.is_verified &amp;&amp; (
            &lt;CheckCircle className=&quot;w-3 h-3 text-blue-500&quot; aria-label</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\services\PortfolioModal.tsx (Line 40:3 - Line 59:7), src\app\mypage\seller\portfolio\[id]\PortfolioDetailClient.tsx (Line 43:3 - Line 59:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn245" onclick="toggleCodeBlock('cloneGroup245', 'expandBtn245', 'collapseBtn245')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn245" onclick="toggleCodeBlock('cloneGroup245', 'expandBtn245', 'collapseBtn245')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup245"><code class="language-tsx text-sm text-gray-800">const getYoutubeVideoId = (url: string | null): string | null =&gt; {
    if (!url) return null;

    const patterns = [
      /(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&amp;\n?#]+)/,
      /youtube\.com\/embed\/([^&amp;\n?#]+)/,
      /youtube\.com\/v\/([^&amp;\n?#]+)/,
    ];

    for (const pattern of patterns) {
      const match = pattern.exec(url);
      if (match) return match[1];
    }

    return null;
  };

  const youtubeVideoId = getYoutubeVideoId(portfolio.youtube_url);

  return</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\services\PortfolioGrid.tsx (Line 16:2 - Line 31:11), src\components\services\PortfolioModal.tsx (Line 5:15 - Line 20:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn246" onclick="toggleCodeBlock('cloneGroup246', 'expandBtn246', 'collapseBtn246')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn246" onclick="toggleCodeBlock('cloneGroup246', 'expandBtn246', 'collapseBtn246')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup246"><code class="language-tsx text-sm text-gray-800">;

interface Portfolio {
  id: string;
  title: string;
  description: string;
  thumbnail_url: string | null;
  image_urls: string[];
  youtube_url: string | null;
  project_url: string | null;
  tags: string[];
  created_at: string;
}

interface Props {
  readonly portfolios</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\services\MobilePackageSelector.tsx (Line 87:9 - Line 105:3), src\components\services\MobileServiceBottomBar.tsx (Line 47:9 - Line 65:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn247" onclick="toggleCodeBlock('cloneGroup247', 'expandBtn247', 'collapseBtn247')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn247" onclick="toggleCodeBlock('cloneGroup247', 'expandBtn247', 'collapseBtn247')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup247"><code class="language-tsx text-sm text-gray-800">await supabase
          .from('service_favorites')
          .insert({ user_id: user.id, service_id: serviceId });
        setIsFavorite(true);
      }
    } catch (error) {
      console.error('찜 처리 중 오류:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const handleContact = () =&gt; {
    if (!user) {
      router.push('/auth/login');
      return;
    }

    if</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\services\MobilePackageSelector.tsx (Line 166:11 - Line 177:16), src\components\services\PurchaseButton.tsx (Line 71:9 - Line 82:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn248" onclick="toggleCodeBlock('cloneGroup248', 'expandBtn248', 'collapseBtn248')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn248" onclick="toggleCodeBlock('cloneGroup248', 'expandBtn248', 'collapseBtn248')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup248"><code class="language-tsx text-sm text-gray-800">);
      }

      const { order_id } = await prepareResponse.json();

      // 결제 페이지로 이동
      router.push(`/payment/direct/${order_id}`);
    } catch (error) {
      logger.error('Purchase error:', error);
      toast.error(error instanceof Error ? error.message : '구매 진행 중 오류가 발생했습니다');
    } finally {
      setIsPurchasing</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\service\ServiceForm.tsx (Line 245:3 - Line 256:12), src\app\mypage\seller\services\new\steps\Step4Images.tsx (Line 66:3 - Line 77:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn249" onclick="toggleCodeBlock('cloneGroup249', 'expandBtn249', 'collapseBtn249')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn249" onclick="toggleCodeBlock('cloneGroup249', 'expandBtn249', 'collapseBtn249')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup249"><code class="language-tsx text-sm text-gray-800">const handleThumbnailChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {
    const file = e.target.files?.[0];
    if (file) {
      if (file.size &gt; 5 * 1024 * 1024) {
        toast.error('파일 크기는 5MB를 초과할 수 없습니다.');
        return;
      }
      if (!file.type.startsWith('image/')) {
        toast.error('이미지 파일만 업로드 가능합니다.');
        return;
      }
      setFormData</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\service\ServiceForm.tsx (Line 660:11 - Line 665:10), src\app\mypage\seller\services\new\steps\Step2Pricing.tsx (Line 172:13 - Line 177:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn250" onclick="toggleCodeBlock('cloneGroup250', 'expandBtn250', 'collapseBtn250')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn250" onclick="toggleCodeBlock('cloneGroup250', 'expandBtn250', 'collapseBtn250')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup250"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;option value=&quot;0&quot;&gt;수정 불가&lt;/option&gt;
            &lt;option value=&quot;1&quot;&gt;1회&lt;/option&gt;
            &lt;option value=&quot;2&quot;&gt;2회&lt;/option&gt;
            &lt;option value=&quot;3&quot;&gt;3회&lt;/option&gt;
            &lt;option value=&quot;unlimited</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\service\PackageSelector.tsx (Line 38:3 - Line 49:3), src\components\services\MobilePackageSelector.tsx (Line 58:3 - Line 69:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn251" onclick="toggleCodeBlock('cloneGroup251', 'expandBtn251', 'collapseBtn251')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn251" onclick="toggleCodeBlock('cloneGroup251', 'expandBtn251', 'collapseBtn251')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup251"><code class="language-tsx text-sm text-gray-800">// 활성화된 패키지만 필터링하고 정렬
  const activePackages = PACKAGE_TYPE_ORDER.map((type) =&gt;
    packages.find((pkg) =&gt; pkg.package_type === type)
  ).filter((pkg): pkg is ServicePackage =&gt; pkg?.is_active === true);

  const [selectedType, setSelectedType] = useState&lt;PackageType&gt;(
    activePackages[0]?.package_type || 'standard'
  );

  const selectedPackage = activePackages.find((pkg) =&gt; pkg.package_type === selectedType);

  if</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\service\PackageSelector.tsx (Line 118:4 - Line 126:108), src\components\service\PackageSelector.tsx (Line 104:2 - Line 112:44)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn252" onclick="toggleCodeBlock('cloneGroup252', 'expandBtn252', 'collapseBtn252')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn252" onclick="toggleCodeBlock('cloneGroup252', 'expandBtn252', 'collapseBtn252')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup252"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;div className=&quot;flex items-center gap-3 text-sm&quot;&gt;
              &lt;div className=&quot;flex items-center gap-2 text-gray-600&quot;&gt;
                &lt;svg className=&quot;w-5 h-5&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; viewBox=&quot;0 0 24 24&quot;&gt;
                  &lt;path
                    strokeLinecap=&quot;round&quot;
                    strokeLinejoin=&quot;round&quot;
                    strokeWidth={2}
                    d=&quot;M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\service\PackagePricingForm.tsx (Line 27:2 - Line 35:20), src\app\mypage\seller\services\new\steps\Step2Pricing.tsx (Line 56:2 - Line 64:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn253" onclick="toggleCodeBlock('cloneGroup253', 'expandBtn253', 'collapseBtn253')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn253" onclick="toggleCodeBlock('cloneGroup253', 'expandBtn253', 'collapseBtn253')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup253"><code class="language-tsx text-sm text-gray-800">);

  const formatPrice = (value: string) =&gt; {
    const number = value.replaceAll(/[^\d]/g, '');
    const numValue = Number.parseInt(number, 10);
    return Number.isNaN(numValue) ? '0' : numValue.toLocaleString('ko-KR');
  };

  const handlePackageChange</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\seller\FAQSection.tsx (Line 20:34 - Line 33:2), src\app\buyer\guide\page.tsx (Line 149:26 - Line 412:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn254" onclick="toggleCodeBlock('cloneGroup254', 'expandBtn254', 'collapseBtn254')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn254" onclick="toggleCodeBlock('cloneGroup254', 'expandBtn254', 'collapseBtn254')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup254"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
              &lt;div className=&quot;flex items-start gap-2&quot;&gt;
                &lt;HelpCircle className=&quot;w-4 h-4 text-brand-primary flex-shrink-0 mt-0.5&quot; /&gt;
                &lt;div&gt;
                  &lt;h3 className=&quot;text-sm font-semibold mb-1&quot;&gt;{faq.question}&lt;/h3&gt;
                  &lt;p className=&quot;text-xs text-gray-600 leading-relaxed&quot;&gt;{faq.answer}&lt;/p&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  )</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\portfolio\PortfolioForm.tsx (Line 398:8 - Line 417:13), src\components\portfolio\PortfolioForm.tsx (Line 376:4 - Line 395:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn255" onclick="toggleCodeBlock('cloneGroup255', 'expandBtn255', 'collapseBtn255')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn255" onclick="toggleCodeBlock('cloneGroup255', 'expandBtn255', 'collapseBtn255')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup255"><code class="language-tsx text-sm text-gray-800">, index) =&gt; (
                &lt;div key={`new-${preview}`} className=&quot;relative&quot;&gt;
                  &lt;img
                    src={preview}
                    alt={`새 이미지 ${index + 1}`}
                    className=&quot;w-full h-32 object-cover rounded-lg&quot;
                  /&gt;
                  &lt;button
                    type=&quot;button&quot;
                    onClick={() =&gt; handleRemoveImage(index)}
                    className=&quot;absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600&quot;
                  &gt;
                    &lt;X className=&quot;w-4 h-4&quot; /&gt;
                  &lt;/button&gt;
                &lt;/div&gt;
              ))}
            &lt;/div&gt;
          )}

          {/* 업로드 버튼 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\payment\TermsAgreement.tsx (Line 51:2 - Line 61:5), src\components\payment\TermsAgreement.tsx (Line 29:2 - Line 39:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn256" onclick="toggleCodeBlock('cloneGroup256', 'expandBtn256', 'collapseBtn256')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn256" onclick="toggleCodeBlock('cloneGroup256', 'expandBtn256', 'collapseBtn256')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup256"><code class="language-tsx text-sm text-gray-800">&amp;&amp; &lt;Check className=&quot;w-3 h-3 text-white&quot; /&gt;}
        &lt;/div&gt;
        &lt;input
          type=&quot;checkbox&quot;
          checked={agreedToPrivacy}
          onChange={(e) =&gt; onPrivacyChange(e.target.checked)}
          className=&quot;sr-only&quot;
        /&gt;
        &lt;div className=&quot;flex-1&quot;&gt;
          &lt;span className=&quot;text-gray-900 font-medium&quot;&gt;
            개인정보</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\payment\PaymentSummarySidebar.tsx (Line 12:3 - Line 19:11), src\components\payment\PaymentTermsSection.tsx (Line 5:3 - Line 12:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn257" onclick="toggleCodeBlock('cloneGroup257', 'expandBtn257', 'collapseBtn257')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn257" onclick="toggleCodeBlock('cloneGroup257', 'expandBtn257', 'collapseBtn257')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup257"><code class="language-tsx text-sm text-gray-800">readonly agreedToTerms: boolean;
  readonly agreedToPrivacy: boolean;
  readonly onTermsChange: (value: boolean) =&gt; void;
  readonly onPrivacyChange: (value: boolean) =&gt; void;
  readonly onPayment: () =&gt; void;
  readonly isProcessing: boolean;
  readonly disabled: boolean;
  readonly buttonText</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\payment\AdvertisingProductInfo.tsx (Line 31:9 - Line 47:8), src\components\payment\DirectOrderProductInfo.tsx (Line 34:8 - Line 49:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn258" onclick="toggleCodeBlock('cloneGroup258', 'expandBtn258', 'collapseBtn258')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn258" onclick="toggleCodeBlock('cloneGroup258', 'expandBtn258', 'collapseBtn258')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup258"><code class="language-tsx text-sm text-gray-800">?.thumbnail_url ? (
            &lt;Image
              src={payment.services.thumbnail_url}
              alt={payment.services.title}
              fill
              className=&quot;object-cover&quot;
              sizes=&quot;80px&quot;
            /&gt;
          ) : (
            &lt;div className=&quot;w-full h-full flex items-center justify-center&quot;&gt;
              &lt;ImageIcon className=&quot;w-8 h-8 text-gray-400&quot; /&gt;
            &lt;/div&gt;
          )}
        &lt;/div&gt;
        &lt;div className=&quot;flex-1 min-w-0&quot;&gt;
          &lt;h3 className=&quot;font-medium text-gray-900 mb-1 line-clamp-2&quot;&gt;
            {payment</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\mypage\Sidebar.tsx (Line 494:2 - Line 507:3), src\components\mypage\Sidebar.tsx (Line 467:2 - Line 480:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn259" onclick="toggleCodeBlock('cloneGroup259', 'expandBtn259', 'collapseBtn259')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn259" onclick="toggleCodeBlock('cloneGroup259', 'expandBtn259', 'collapseBtn259')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup259"><code class="language-tsx text-sm text-gray-800">
                &gt;
                  &lt;div className=&quot;flex items-center gap-3 flex-1&quot;&gt;
                    {React.createElement(iconMap[item.icon] || User, {
                      className: 'w-4 h-4',
                    })}
                    &lt;span className=&quot;text-sm font-medium&quot;&gt;{item.label}&lt;/span&gt;
                    {item.badge !== undefined &amp;&amp; item.badge &gt; 0 &amp;&amp; (
                      &lt;span className=&quot;ml-auto px-2 py-0.5 bg-red-500 text-white text-xs rounded-full badge-pulse&quot;&gt;
                        {item.badge}
                      &lt;/span&gt;
                    )}
                  &lt;/div&gt;
                &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\mypage\MobileMyPageNav.tsx (Line 53:5 - Line 58:16), src\components\mypage\MobileMyPageNav.tsx (Line 36:9 - Line 41:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn260" onclick="toggleCodeBlock('cloneGroup260', 'expandBtn260', 'collapseBtn260')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn260" onclick="toggleCodeBlock('cloneGroup260', 'expandBtn260', 'collapseBtn260')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup260"><code class="language-tsx text-sm text-gray-800"> className=&quot;w-6 h-6&quot; /&gt; },
  { label: '알림', href: '/mypage/notifications', icon: &lt;Bell className=&quot;w-6 h-6&quot; /&gt; },
  { label: '설정', href: '/mypage/settings', icon: &lt;Settings className=&quot;w-6 h-6&quot; /&gt; },
];

const helperMenuItems</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\mypage\MobileMyPageNav.tsx (Line 68:25 - Line 73:10), src\components\mypage\MobileMyPageNav.tsx (Line 53:25 - Line 41:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn261" onclick="toggleCodeBlock('cloneGroup261', 'expandBtn261', 'collapseBtn261')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn261" onclick="toggleCodeBlock('cloneGroup261', 'expandBtn261', 'collapseBtn261')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup261"><code class="language-tsx text-sm text-gray-800">, icon: &lt;User className=&quot;w-6 h-6&quot; /&gt; },
  { label: '알림', href: '/mypage/notifications', icon: &lt;Bell className=&quot;w-6 h-6&quot; /&gt; },
  { label: '설정', href: '/mypage/settings', icon: &lt;Settings className=&quot;w-6 h-6&quot; /&gt; },
];

interface</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\UserReviews.tsx (Line 147:23 - Line 160:41), src\components\home\UserReviews.tsx (Line 70:23 - Line 83:41)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn262" onclick="toggleCodeBlock('cloneGroup262', 'expandBtn262', 'collapseBtn262')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn262" onclick="toggleCodeBlock('cloneGroup262', 'expandBtn262', 'collapseBtn262')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup262"><code class="language-tsx text-sm text-gray-800">&quot;&gt;
                {Array.from({ length: 5 }, (_, index) =&gt; (
                  &lt;svg
                    key={`rating-star-${index}`}
                    className={`w-5 h-5 ${
                      index &lt; review.rating ? 'text-yellow-400' : 'text-gray-300'
                    }`}
                    fill=&quot;currentColor&quot;
                    viewBox=&quot;0 0 20 20&quot;
                  &gt;
                    &lt;path d=&quot;M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z&quot; /&gt;
                  &lt;/svg&gt;
                ))}
                &lt;span className=&quot;ml-2 text-sm font-semibold text-gray-700</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\UserReviews.tsx (Line 192:22 - Line 201:34), src\components\home\UserReviews.tsx (Line 115:22 - Line 124:34)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn263" onclick="toggleCodeBlock('cloneGroup263', 'expandBtn263', 'collapseBtn263')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn263" onclick="toggleCodeBlock('cloneGroup263', 'expandBtn263', 'collapseBtn263')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup263"><code class="language-tsx text-sm text-gray-800">&quot; fill=&quot;currentColor&quot; viewBox=&quot;0 0 20 20&quot;&gt;
                    &lt;path
                      fillRule=&quot;evenodd&quot;
                      d=&quot;M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z&quot;
                      clipRule=&quot;evenodd&quot;
                    /&gt;
                  &lt;/svg&gt;
                &lt;/div&gt;
                &lt;div className=&quot;flex-1&quot;&gt;
                  &lt;p className=&quot;text-sm font-medium text-gray-900</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\SecondHeroBanner.tsx (Line 122:2 - Line 127:92), src\components\home\SecondHeroBanner.tsx (Line 112:2 - Line 117:207)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn264" onclick="toggleCodeBlock('cloneGroup264', 'expandBtn264', 'collapseBtn264')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn264" onclick="toggleCodeBlock('cloneGroup264', 'expandBtn264', 'collapseBtn264')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup264"><code class="language-tsx text-sm text-gray-800">= () =&gt; (
  &lt;svg className=&quot;w-4 h-4&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot; strokeWidth={2}&gt;
    &lt;path
      strokeLinecap=&quot;round&quot;
      strokeLinejoin=&quot;round&quot;
      d=&quot;M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\SecondHeroBanner.tsx (Line 132:2 - Line 137:169), src\components\home\SecondHeroBanner.tsx (Line 112:2 - Line 117:207)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn265" onclick="toggleCodeBlock('cloneGroup265', 'expandBtn265', 'collapseBtn265')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn265" onclick="toggleCodeBlock('cloneGroup265', 'expandBtn265', 'collapseBtn265')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup265"><code class="language-tsx text-sm text-gray-800">= () =&gt; (
  &lt;svg className=&quot;w-4 h-4&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot; strokeWidth={2}&gt;
    &lt;path
      strokeLinecap=&quot;round&quot;
      strokeLinejoin=&quot;round&quot;
      d=&quot;M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\PersonalizedServices.tsx (Line 37:9 - Line 44:3), src\components\home\PersonalizedServices.tsx (Line 15:11 - Line 21:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn266" onclick="toggleCodeBlock('cloneGroup266', 'expandBtn266', 'collapseBtn266')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn266" onclick="toggleCodeBlock('cloneGroup266', 'expandBtn266', 'collapseBtn266')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup266"><code class="language-tsx text-sm text-gray-800">&lt;div className=&quot;flex items-center justify-between mb-6&quot;&gt;
          &lt;div&gt;
            &lt;div className=&quot;flex items-center gap-2&quot;&gt;
              &lt;Heart className=&quot;w-5 h-5 text-brand-primary fill-current&quot; /&gt;
              &lt;h2 className=&quot;text-2xl font-semibold text-gray-900&quot;&gt;회원님의 관심 카테고리&lt;/h2&gt;
            &lt;/div&gt;
            &lt;p className=&quot;text-sm text-gray-600 mt-1&quot;&gt;
              자주</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\CategoryGrid.tsx (Line 65:2 - Line 83:3), src\components\home\CategoryGrid.tsx (Line 44:2 - Line 63:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn267" onclick="toggleCodeBlock('cloneGroup267', 'expandBtn267', 'collapseBtn267')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn267" onclick="toggleCodeBlock('cloneGroup267', 'expandBtn267', 'collapseBtn267')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup267"><code class="language-tsx text-sm text-gray-800">11).map((category, index) =&gt; (
                &lt;Link
                  key={category.id}
                  href={category.slug === 'errands' ? '/errands' : `/categories/${category.slug}`}
                  className=&quot;flex flex-col items-center group cursor-pointer flex-shrink-0 w-[76px]&quot;
                  prefetch={false}
                &gt;
                  &lt;div
                    className={`text-[27px] mb-1 h-11 w-11 flex items-center justify-center rounded-full transition-all duration-200 ${brightColors[(index + 11) % brightColors.length]} group-hover:text-brand-primary`}
                  &gt;
                    &lt;CategoryIcon icon={category.icon} /&gt;
                  &lt;/div&gt;
                  &lt;div className=&quot;text-gray-700 group-hover:text-brand-primary transition-colors duration-200 font-semibold text-mobile-sm text-center w-[76px] whitespace-nowrap px-0&quot;&gt;
                    {category.name}
                  &lt;/div&gt;
                &lt;/Link&gt;
              ))}
            &lt;/div&gt;
          &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\AITalentShowcase.tsx (Line 58:15 - Line 70:2), src\app\mypage\buyer\favorites\page.tsx (Line 180:21 - Line 192:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn268" onclick="toggleCodeBlock('cloneGroup268', 'expandBtn268', 'collapseBtn268')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn268" onclick="toggleCodeBlock('cloneGroup268', 'expandBtn268', 'collapseBtn268')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup268"><code class="language-tsx text-sm text-gray-800">&lt;/div&gt;

              {/* 서비스 정보 */}
              &lt;div className=&quot;mt-2&quot;&gt;
                {/* 전문가 */}
                &lt;div className=&quot;flex items-center gap-1 mb-1&quot;&gt;
                  &lt;div className=&quot;w-4 h-4 rounded-full bg-brand-primary flex items-center justify-center text-white text-[8px] font-semibold&quot;&gt;
                    {service.seller?.display_name?.[0] || 'S'}
                  &lt;/div&gt;
                  &lt;span className=&quot;text-xs text-gray-600 truncate&quot;&gt;
                    {service.seller?.display_name}
                  &lt;/span&gt;
                  {service.seller?.is_verified &amp;&amp; &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\home\AITalentShowcase.tsx (Line 70:3 - Line 90:3), src\components\home\RecentViewedServices.tsx (Line 291:2 - Line 312:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn269" onclick="toggleCodeBlock('cloneGroup269', 'expandBtn269', 'collapseBtn269')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn269" onclick="toggleCodeBlock('cloneGroup269', 'expandBtn269', 'collapseBtn269')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup269"><code class="language-tsx text-sm text-gray-800">}
                &lt;/div&gt;

                {/* 제목 */}
                &lt;h3 className=&quot;font-medium text-sm line-clamp-2 group-hover:text-brand-primary transition-colors mb-1&quot;&gt;
                  {service.title}
                &lt;/h3&gt;

                {/* 평점 */}
                &lt;div className=&quot;flex items-center gap-2 text-xs text-gray-600 mb-1&quot;&gt;
                  &lt;span className=&quot;flex items-center gap-1&quot;&gt;
                    &lt;Star className=&quot;w-3 h-3 text-yellow-400 fill-current&quot; /&gt;
                    {(service.rating || 0).toFixed(1)}
                  &lt;/span&gt;
                &lt;/div&gt;

                {/* 가격 */}
                &lt;p className=&quot;text-brand-primary font-semibold text-sm&quot;&gt;
                  {(service.price || 0).toLocaleString()}원
                &lt;/p&gt;
              &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\errands\ErrandMypageLayout.tsx (Line 192:3 - Line 204:21), src\app\mypage\helper\dashboard\page.tsx (Line 83:3 - Line 95:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn271" onclick="toggleCodeBlock('cloneGroup271', 'expandBtn271', 'collapseBtn271')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn271" onclick="toggleCodeBlock('cloneGroup271', 'expandBtn271', 'collapseBtn271')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup271"><code class="language-tsx text-sm text-gray-800">const getGradeLabel = (grade: string) =&gt; {
    const gradeMap: Record&lt;string, string&gt; = {
      NEWBIE: '뉴비',
      BRONZE: '브론즈',
      SILVER: '실버',
      GOLD: '골드',
      PLATINUM: '플래티넘',
      DIAMOND: '다이아몬드',
    };
    return gradeMap[grade] || grade;
  };

  const getSubscriptionLabel</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\common\Icons.tsx (Line 62:2 - Line 72:75), src\components\home\SecondHeroBanner.tsx (Line 96:3 - Line 106:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn272" onclick="toggleCodeBlock('cloneGroup272', 'expandBtn272', 'collapseBtn272')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn272" onclick="toggleCodeBlock('cloneGroup272', 'expandBtn272', 'collapseBtn272')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup272"><code class="language-tsx text-sm text-gray-800">&gt;
    &lt;path strokeLinecap=&quot;round&quot; strokeLinejoin=&quot;round&quot; d=&quot;M15 10.5a3 3 0 11-6 0 3 3 0 016 0z&quot; /&gt;
    &lt;path
      strokeLinecap=&quot;round&quot;
      strokeLinejoin=&quot;round&quot;
      d=&quot;M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z&quot;
    /&gt;
  &lt;/svg&gt;
);

// This matches LocationInputSection MapPinIcon (Filled/Solid style paths)</code></pre></div><div class="py-4"><p class="text-gray-600">src\components\categories\CategorySidebar.tsx (Line 30:6 - Line 43:7), src\components\categories\CategoryTreeSelect.tsx (Line 58:2 - Line 70:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn274" onclick="toggleCodeBlock('cloneGroup274', 'expandBtn274', 'collapseBtn274')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn274" onclick="toggleCodeBlock('cloneGroup274', 'expandBtn274', 'collapseBtn274')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup274"><code class="language-tsx text-sm text-gray-800">.stopPropagation();

    setExpandedCategories((prev) =&gt; {
      const newSet = new Set(prev);
      if (newSet.has(categoryId)) {
        newSet.delete(categoryId);
      } else {
        newSet.add(categoryId);
      }
      return newSet;
    });
  };

  return</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\terms\page.tsx (Line 105:14 - Line 136:2), src\app\terms\partner\page.tsx (Line 141:16 - Line 172:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn275" onclick="toggleCodeBlock('cloneGroup275', 'expandBtn275', 'collapseBtn275')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn275" onclick="toggleCodeBlock('cloneGroup275', 'expandBtn275', 'collapseBtn275')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup275"><code class="language-tsx text-sm text-gray-800">&quot;
      relatedLinks={[
        { href: '/privacy', label: '개인정보처리방침' },
        { href: '/help', label: '고객센터' },
      ]}
    &gt;
      &lt;div className=&quot;space-y-6&quot;&gt;
        {sections.map((section) =&gt; (
          &lt;div
            key={section.title}
            className=&quot;border-b border-gray-100 pb-5 last:border-0 last:pb-0&quot;
          &gt;
            &lt;h2 className=&quot;text-sm font-semibold text-gray-900 mb-2&quot;&gt;{section.title}&lt;/h2&gt;
            {section.content &amp;&amp; (
              &lt;p className=&quot;text-xs text-gray-600 leading-relaxed&quot;&gt;{section.content}&lt;/p&gt;
            )}
            {section.list &amp;&amp; (
              &lt;ol className=&quot;space-y-1.5 mt-2&quot;&gt;
                {section.list.map((item, idx) =&gt; (
                  &lt;li key={item} className=&quot;text-xs text-gray-600 leading-relaxed flex gap-2&quot;&gt;
                    &lt;span className=&quot;text-gray-400 flex-shrink-0&quot;&gt;{idx + 1}.&lt;/span&gt;
                    {item}
                  &lt;/li&gt;
                ))}
              &lt;/ol&gt;
            )}
          &lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/PolicyLayout&gt;
  );
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\privacy\page.tsx (Line 136:2 - Line 150:12), src\app\terms\partner\page.tsx (Line 146:5 - Line 157:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn276" onclick="toggleCodeBlock('cloneGroup276', 'expandBtn276', 'collapseBtn276')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn276" onclick="toggleCodeBlock('cloneGroup276', 'expandBtn276', 'collapseBtn276')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup276"><code class="language-tsx text-sm text-gray-800">&gt;

      &lt;div className=&quot;space-y-6&quot;&gt;
        {sections.map((section) =&gt; (
          &lt;div
            key={section.title}
            className=&quot;border-b border-gray-100 pb-5 last:border-0 last:pb-0&quot;
          &gt;
            &lt;h2 className=&quot;text-sm font-semibold text-gray-900 mb-2&quot;&gt;{section.title}&lt;/h2&gt;

            {section.content &amp;&amp; (
              &lt;p className=&quot;text-xs text-gray-600 leading-relaxed&quot;&gt;{section.content}&lt;/p&gt;
            )}

            {section.subsections</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\insights\page.tsx (Line 309:5 - Line 318:4), src\app\insights\page.tsx (Line 220:6 - Line 229:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn277" onclick="toggleCodeBlock('cloneGroup277', 'expandBtn277', 'collapseBtn277')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn277" onclick="toggleCodeBlock('cloneGroup277', 'expandBtn277', 'collapseBtn277')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup277"><code class="language-tsx text-sm text-gray-800">.
          &lt;/p&gt;

          &lt;div className=&quot;bg-white rounded-xl shadow-sm overflow-hidden&quot;&gt;
            &lt;div className=&quot;overflow-x-auto&quot;&gt;
              &lt;table className=&quot;w-full&quot;&gt;
                &lt;thead className=&quot;bg-gray-50&quot;&gt;
                  &lt;tr&gt;
                    &lt;th className=&quot;px-6 py-4 text-left text-sm font-semibold text-gray-700&quot;&gt;
                      플랫폼</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\help\page.tsx (Line 169:13 - Line 182:3), src\app\help\page.tsx (Line 148:12 - Line 162:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn278" onclick="toggleCodeBlock('cloneGroup278', 'expandBtn278', 'collapseBtn278')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn278" onclick="toggleCodeBlock('cloneGroup278', 'expandBtn278', 'collapseBtn278')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup278"><code class="language-tsx text-sm text-gray-800">.map((guide) =&gt; (
                  &lt;li key={guide.href}&gt;
                    &lt;Link
                      href={guide.href}
                      className=&quot;flex items-center justify-between text-xs text-gray-600 hover:text-brand-primary transition-colors py-1&quot;
                    &gt;
                      &lt;span&gt;{guide.title}&lt;/span&gt;
                      &lt;ArrowRight className=&quot;w-3 h-3&quot; /&gt;
                    &lt;/Link&gt;
                  &lt;/li&gt;
                ))}
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\chat\ChatListClient.tsx (Line 41:1 - Line 59:6), src\app\chat\components\ChatMessageArea.tsx (Line 12:1 - Line 30:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn279" onclick="toggleCodeBlock('cloneGroup279', 'expandBtn279', 'collapseBtn279')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn279" onclick="toggleCodeBlock('cloneGroup279', 'expandBtn279', 'collapseBtn279')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup279"><code class="language-tsx text-sm text-gray-800">interface Message {
  id: string;
  room_id: string;
  sender_id: string;
  message: string;
  is_read: boolean;
  created_at: string;
  file_url?: string;
  file_name?: string;
  file_size?: number;
  file_type?: string;
  sender?: {
    id: string;
    name: string;
    profile_image: string | null;
  };
}

interface Props</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\chat\ChatListClient.tsx (Line 245:7 - Line 255:48), src\app\chat\[roomId]\DirectChatClient.tsx (Line 86:2 - Line 96:50)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn280" onclick="toggleCodeBlock('cloneGroup280', 'expandBtn280', 'collapseBtn280')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn280" onclick="toggleCodeBlock('cloneGroup280', 'expandBtn280', 'collapseBtn280')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup280"><code class="language-tsx text-sm text-gray-800">) =&gt; {
    try {
      await fetch('/api/chat/messages/mark-read', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ room_id: roomId }),
      });
    } catch (error) {
      logger.error('[ChatListClient] Mark messages as read error:'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\about\page.tsx (Line 312:6 - Line 331:2), src\app\insights\page.tsx (Line 428:11 - Line 447:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn281" onclick="toggleCodeBlock('cloneGroup281', 'expandBtn281', 'collapseBtn281')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn281" onclick="toggleCodeBlock('cloneGroup281', 'expandBtn281', 'collapseBtn281')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup281"><code class="language-tsx text-sm text-gray-800">&lt;/p&gt;
          &lt;div className=&quot;flex flex-wrap justify-center gap-4&quot;&gt;
            &lt;a
              href=&quot;/auth/signup&quot;
              className=&quot;px-8 py-3 bg-white text-brand-primary font-semibold rounded-lg hover:bg-gray-100 transition-colors&quot;
            &gt;
              무료로 시작하기
            &lt;/a&gt;
            &lt;a
              href=&quot;/services&quot;
              className=&quot;px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white/10 transition-colors&quot;
            &gt;
              서비스 둘러보기
            &lt;/a&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/section&gt;
    &lt;/div&gt;
  );
}</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="typescript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">typescript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\applications\[appId]\route.ts (Line 177:7 - Line 192:13), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 86:6 - Line 101:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup0"><code class="language-typescript text-sm text-gray-800">(request: NextRequest, { params }: RouteParams) {
  try {
    const { id, appId } = await params;

    // 사용자 인증 확인
    const authResult = await requireLogin();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    // 헬퍼 프로필 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\seller\portfolio\[id]\route.ts (Line 14:12 - Line 24:6), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 91:13 - Line 101:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup12"><code class="language-typescript text-sm text-gray-800">();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\seller\portfolio\[id]\route.ts (Line 68:4 - Line 81:6), src\app\api\seller\portfolio\[id]\route.ts (Line 9:7 - Line 26:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup13"><code class="language-typescript text-sm text-gray-800">(request: NextRequest, { params }: { params: Promise&lt;{ id: string }&gt; }) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const { id: portfolioId } = await params;
    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\seller\advertising\bank-transfer\route.ts (Line 50:5 - Line 60:36), src\app\api\seller\advertising\dashboard\route.ts (Line 20:5 - Line 30:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup14"><code class="language-typescript text-sm text-gray-800">const { data: seller } = await serviceSupabase
      .from('sellers')
      .select('id')
      .eq('user_id', user.id)
      .single();

    if (!seller) {
      return NextResponse.json({ error: 'Seller not found' }, { status: 404 });
    }

    // Upload receipt image if provided</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\advertising\verify\route.ts (Line 7:18 - Line 17:2), src\app\api\webhook\portone\payment\route.ts (Line 12:15 - Line 22:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup15"><code class="language-typescript text-sm text-gray-800">(paymentId: string) {
  const apiSecret = process.env.PORTONE_API_SECRET;
  if (!apiSecret) {
    throw new Error('PortOne API Secret이 설정되지 않았습니다');
  }

  const response = await fetch(`https://api.portone.io/payments/${encodeURIComponent(paymentId)}`, {
    method: 'GET',
    headers: {
      Authorization: `PortOne ${apiSecret}`,
    }</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\advertising\verify\route.ts (Line 30:12 - Line 42:5), src\app\api\seller\portfolio\[id]\route.ts (Line 12:1 - Line 24:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup16"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const body</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\advertising\prepare\route.ts (Line 5:1 - Line 16:11), src\app\api\payments\bank-transfer\request\route.ts (Line 9:1 - Line 20:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup17"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const { service_id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\[id]\revision\route.ts (Line 10:5 - Line 18:2), src\app\api\payments\bank-transfer\request\route.ts (Line 11:5 - Line 19:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup18"><code class="language-typescript text-sm text-gray-800">const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\[id]\confirm\route.ts (Line 22:21 - Line 32:21), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 91:2 - Line 101:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup19"><code class="language-typescript text-sm text-gray-800">);
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    // 주문 조회 및 구매자 권한 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\[id]\complete-revision\route.ts (Line 7:3 - Line 18:17), src\app\api\orders\[id]\status\route.ts (Line 63:5 - Line 74:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup20"><code class="language-typescript text-sm text-gray-800">// 주문 조회 및 권한 확인
  const { data: order, error: fetchError } = await supabase
    .from('orders')
    .select('*')
    .eq('id', id)
    .single();

  if (fetchError || !order) {
    return NextResponse.json({ error: '주문을 찾을 수 없습니다' }, { status: 404 });
  }

  // 전문가만 수정 완료 가능</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\[id]\cancel\route.ts (Line 51:1 - Line 66:14), src\app\api\orders\[id]\confirm\route.ts (Line 17:1 - Line 24:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup21"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest, { params }: { params: Promise&lt;{ id: string }&gt; }) {
  try {
    const { id } = await params;

    // 사용자 인증 및 Rate Limiting 확인
    const authResult = await requireAuthWithRateLimit(orderStatusRateLimit);
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const { cancel_reason</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\chat\route.ts (Line 160:5 - Line 173:6), src\app\api\errands\[id]\chat\route.ts (Line 62:4 - Line 75:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup22"><code class="language-typescript text-sm text-gray-800">(request: NextRequest, { params }: RouteParams) {
  try {
    const { id } = await params;
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\chat\route.ts (Line 178:5 - Line 188:2), src\app\api\errands\[id]\chat\route.ts (Line 87:5 - Line 97:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup23"><code class="language-typescript text-sm text-gray-800">const { data: errand } = await supabase
      .from('errands')
      .select('requester_id, helper_id, status, title')
      .eq('id', id)
      .single();

    if (!errand) {
      return NextResponse.json({ error: '심부름을 찾을 수 없습니다' }, { status: 404 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\applications\route.ts (Line 66:2 - Line 80:10), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 88:2 - Line 102:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup24"><code class="language-typescript text-sm text-gray-800">} = await params;

    // 사용자 인증 확인
    const authResult = await requireLogin();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    // 현재 사용자의 profile.id 조회
    const profileId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\applications\route.ts (Line 163:5 - Line 181:4), src\app\api\errands\[id]\applications\route.ts (Line 64:4 - Line 195:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup25"><code class="language-typescript text-sm text-gray-800">(request: NextRequest, { params }: RouteParams) {
  try {
    const { id } = await params;

    // 사용자 인증 확인
    const authResult = await requireLogin();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    // 헬퍼 프로필 확인
    const { data: helperProfile } = await supabase
      .from('helper_profiles')
      .select('*'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\applications\route.ts (Line 205:5 - Line 211:3), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 109:5 - Line 115:51)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup26"><code class="language-typescript text-sm text-gray-800">const { data: errand } = await supabase.from('errands').select('*').eq('id', id).single();

    if (!errand) {
      return NextResponse.json({ error: '심부름을 찾을 수 없습니다' }, { status: 404 });
    }

    if</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\users\[userId]\route.ts (Line 111:5 - Line 122:17), src\app\api\seller\services\[serviceId]\route.ts (Line 170:5 - Line 181:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup27"><code class="language-typescript text-sm text-gray-800">const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

    if (!supabaseUrl || !supabaseServiceKey) {
      return NextResponse.json({ error: '서버 설정 오류' }, { status: 500 });
    }

    const supabaseAdmin = createClient(supabaseUrl, supabaseServiceKey, {
      auth: { autoRefreshToken: false, persistSession: false },
    });

    // 사용자 기본 데이터 삭제</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\analytics\realtime\route.ts (Line 20:1 - Line 34:19), src\app\api\admin\analytics\referrers\route.ts (Line 20:1 - Line 34:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup28"><code class="language-typescript text-sm text-gray-800">}

export async function GET() {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();

    // KST 기준 오늘 시작 시간</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\analytics\devices\route.ts (Line 7:12 - Line 17:2), src\app\api\admin\analytics\referrers\route.ts (Line 22:2 - Line 32:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup29"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\statistics\route.ts (Line 174:1 - Line 185:6), src\app\api\admin\analytics\devices\route.ts (Line 7:1 - Line 34:35)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup30"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\payments\route.ts (Line 9:1 - Line 19:24), src\app\api\admin\analytics\devices\route.ts (Line 7:1 - Line 32:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup31"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = createServiceRoleClient</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\payments\route.ts (Line 303:6 - Line 314:5), src\app\api\admin\analytics\devices\route.ts (Line 7:4 - Line 20:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup32"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = createServiceRoleClient();
    const body</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\credits\route.ts (Line 7:1 - Line 19:9), src\app\api\admin\analytics\devices\route.ts (Line 7:1 - Line 187:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup33"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const { searchParams } = new URL(request.url);
    const sellerId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\credits\route.ts (Line 86:5 - Line 97:5), src\app\api\admin\analytics\devices\route.ts (Line 7:4 - Line 185:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup34"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const body</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\credits\route.ts (Line 172:1 - Line 184:2), src\app\api\admin\advertising\payments\route.ts (Line 303:1 - Line 98:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup35"><code class="language-typescript text-sm text-gray-800">export async function PATCH(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const body = await request.json();
    const { sellerId, amount, description }</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\user\service-views\route.ts (Line 6:1 - Line 17:10), src\app\api\payments\bank-transfer\request\route.ts (Line 9:1 - Line 20:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup116"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const { serviceId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\user\service-views\route.ts (Line 48:4 - Line 58:13), src\app\api\payments\bank-transfer\request\route.ts (Line 9:5 - Line 18:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup117"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const { searchParams</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\user\service-favorites\route.ts (Line 53:2 - Line 63:10), src\app\api\orders\[id]\revision\route.ts (Line 9:7 - Line 59:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup118"><code class="language-typescript text-sm text-gray-800">;
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const { searchParams } = new URL(request.url);
    const serviceId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\seller\portfolio\route.ts (Line 6:1 - Line 18:10), src\app\api\payments\bank-transfer\request\route.ts (Line 9:1 - Line 20:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup119"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const {
      seller_id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\seller\check\route.ts (Line 4:2 - Line 15:2), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:12 - Line 17:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup120"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\verify\route.ts (Line 4:20 - Line 16:5), src\app\api\payments\verify-direct\route.ts (Line 2:22 - Line 14:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup121"><code class="language-typescript text-sm text-gray-800">;
import { logger } from '@/lib/logger';
import { verifyPaymentAuth, verifyOrderForPayment } from '@/lib/api/payment-verify';

export async function POST(request: NextRequest) {
  try {
    // 인증 및 기본 검증
    const authResult = await verifyPaymentAuth(request);
    if (!authResult.success) {
      return authResult.error;
    }

    const { user</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\prepare\route.ts (Line 7:1 - Line 19:29), src\app\api\payments\advertising\verify\route.ts (Line 30:1 - Line 101:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup122"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    // Redis 기반 Rate Limiting 체크</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\mock-payment\route.ts (Line 9:1 - Line 20:2), src\app\api\payments\bank-transfer\request\route.ts (Line 9:1 - Line 20:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup123"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) return authResult.error;

    const { supabase, user } = authResult;
    if (!supabase || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const { order_id }</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\mock-payment\route.ts (Line 15:2 - Line 23:15), src\app\api\chat\rooms\create-from-order\route.ts (Line 13:2 - Line 21:18)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup124"><code class="language-typescript text-sm text-gray-800">!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const { order_id } = body;

    if (!order_id) {
      return NextResponse.json({ error: '주문 ID가 필요합니다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payments\mock-payment\route.ts (Line 48:2 - Line 58:22), src\app\api\payments\bank-transfer\request\route.ts (Line 80:11 - Line 90:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup125"><code class="language-typescript text-sm text-gray-800">)
      .eq('id', order_id);

    if (updateError) {
      logger.error('Order update error:', updateError);
      return NextResponse.json({ error: '주문 업데이트 실패' }, { status: 500 });
    }

    return NextResponse.json({
      success: true,
      message: 'Mock 결제 완료 (테스트 모드)'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payment-requests\[id]\route.ts (Line 12:13 - Line 24:6), src\app\api\payments\direct-purchase\route.ts (Line 114:12 - Line 126:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn126" onclick="toggleCodeBlock('cloneGroup126', 'expandBtn126', 'collapseBtn126')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup126"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\buyer\route.ts (Line 7:1 - Line 23:8), src\app\api\orders\seller\route.ts (Line 7:1 - Line 23:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn127" onclick="toggleCodeBlock('cloneGroup127', 'expandBtn127', 'collapseBtn127')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup127"><code class="language-typescript text-sm text-gray-800">export const GET = withAuth(async (request: NextRequest, user) =&gt; {
  try {
    const supabase = await createClient();

    // URL 파라미터에서 status 가져오기
    const { searchParams } = new URL(request.url);
    const status = searchParams.get('status');

    // 주문 목록 조회
    let query = supabase
      .from('orders')
      .select(
        `
        *,
        service:services(id, title, thumbnail_url),
        seller:users!seller_id(id, name, profile_image)
      `</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\orders\buyer\route.ts (Line 25:11 - Line 38:7), src\app\api\orders\seller\route.ts (Line 25:12 - Line 38:48)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn128" onclick="toggleCodeBlock('cloneGroup128', 'expandBtn128', 'collapseBtn128')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup128"><code class="language-typescript text-sm text-gray-800">, user.id)
      .order('created_at', { ascending: false });

    if (status &amp;&amp; status !== 'all') {
      query = query.eq('status', status);
    }

    const { data, error } = await query;

    if (error) {
      throw new ApiError('주문 목록을 불러올 수 없습니다', 500);
    }

    return</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\notifications\count\route.ts (Line 6:4 - Line 19:17), src\app\api\notifications\read-all\route.ts (Line 6:6 - Line 19:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn129" onclick="toggleCodeBlock('cloneGroup129', 'expandBtn129', 'collapseBtn129')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup129"><code class="language-typescript text-sm text-gray-800">(_request: NextRequest) {
  try {
    // 사용자 인증 확인
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Internal server error' }, { status: 500 });
    }

    // 안 읽은 알림 개수 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\mypage\recent-activities\route.ts (Line 32:1 - Line 43:11), src\app\api\seller\check\route.ts (Line 4:1 - Line 17:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn130" onclick="toggleCodeBlock('cloneGroup130', 'expandBtn130', 'collapseBtn130')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup130"><code class="language-typescript text-sm text-gray-800">export async function GET() {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const activities</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\mypage\hub-stats\route.ts (Line 1:1 - Line 15:9), src\app\api\seller\check\route.ts (Line 1:1 - Line 17:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn131" onclick="toggleCodeBlock('cloneGroup131', 'expandBtn131', 'collapseBtn131')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup131"><code class="language-typescript text-sm text-gray-800">import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET() {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    // 구매 건수</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 6:1 - Line 15:13), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:1 - Line 14:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn132" onclick="toggleCodeBlock('cloneGroup132', 'expandBtn132', 'collapseBtn132')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup132"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 8:5 - Line 18:5), src\app\api\errands\[id]\chat\route.ts (Line 65:5 - Line 173:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn133" onclick="toggleCodeBlock('cloneGroup133', 'expandBtn133', 'collapseBtn133')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup133"><code class="language-typescript text-sm text-gray-800">const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    const body</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 23:2 - Line 31:13), src\app\api\errands\nearby-helpers\list\route.ts (Line 28:2 - Line 36:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn134" onclick="toggleCodeBlock('cloneGroup134', 'expandBtn134', 'collapseBtn134')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup134"><code class="language-typescript text-sm text-gray-800">}, { status: 400 });
    }

    // 위도/경도 범위 검사
    if (lat &lt; -90 || lat &gt; 90 || lng &lt; -180 || lng &gt; 180) {
      return NextResponse.json({ error: '위치 범위가 올바르지 않습니다' }, { status: 400 });
    }

    // 헬퍼 프로필 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 88:1 - Line 97:13), src\app\api\seller\check\route.ts (Line 4:1 - Line 12:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn135" onclick="toggleCodeBlock('cloneGroup135', 'expandBtn135', 'collapseBtn135')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup135"><code class="language-typescript text-sm text-gray-800">export async function GET() {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 88:2 - Line 100:2), src\app\api\helper\location\route.ts (Line 6:12 - Line 173:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn136" onclick="toggleCodeBlock('cloneGroup136', 'expandBtn136', 'collapseBtn136')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup136"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\location\route.ts (Line 127:6 - Line 140:9), src\app\api\helper\location\route.ts (Line 6:5 - Line 19:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn137" onclick="toggleCodeBlock('cloneGroup137', 'expandBtn137', 'collapseBtn137')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup137"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    const body = await request.json();
    const { isOnline</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\check\route.ts (Line 1:1 - Line 15:7), src\app\api\seller\check\route.ts (Line 1:1 - Line 15:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn138" onclick="toggleCodeBlock('cloneGroup138', 'expandBtn138', 'collapseBtn138')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup138"><code class="language-typescript text-sm text-gray-800">import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET() {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const { data: helper</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\experts\nearby\route.ts (Line 8:1 - Line 17:6), src\app\api\experts\nearby\categories\route.ts (Line 7:1 - Line 17:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn139" onclick="toggleCodeBlock('cloneGroup139', 'expandBtn139', 'collapseBtn139')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup139"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const supabase = await createClient();
    const { searchParams } = new URL(request.url);

    // 쿼리 파라미터 파싱
    const lat = Number.parseFloat(searchParams.get('lat') ?? '');
    const lng = Number.parseFloat(searchParams.get('lng') ?? '');
    const radius = Number.parseInt(searchParams.get('radius') || '10'); // 기본 10km
    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\route.ts (Line 305:7 - Line 317:13), src\app\api\errands\[id]\route.ts (Line 228:6 - Line 240:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn140" onclick="toggleCodeBlock('cloneGroup140', 'expandBtn140', 'collapseBtn140')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup140"><code class="language-typescript text-sm text-gray-800">(request: NextRequest, { params }: RouteParams) {
  try {
    const { id } = await params;

    // 인증 및 프로필 조회
    const authResult = await verifyErrandsAuth();
    if (!authResult.success) {
      return authResult.error;
    }

    const { supabase, profileId } = authResult;

    // 현재 심부름 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\[id]\route.ts (Line 315:11 - Line 324:40), src\app\api\errands\[id]\route.ts (Line 240:2 - Line 249:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn141" onclick="toggleCodeBlock('cloneGroup141', 'expandBtn141', 'collapseBtn141')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup141"><code class="language-typescript text-sm text-gray-800">;

    // 현재 심부름 조회
    const { errand: currentErrand, error: fetchError } = await fetchErrand(supabase, id);
    if (fetchError) return fetchError;
    if (!currentErrand) {
      return NextResponse.json({ error: '심부름을 찾을 수 없습니다' }, { status: 404 });
    }

    // 권한 확인 (요청자만 삭제 가능) - profiles.id로 비교</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\nearby-helpers\route.ts (Line 7:1 - Line 12:10), src\app\api\errands\nearby-helpers\list\route.ts (Line 18:1 - Line 24:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn142" onclick="toggleCodeBlock('cloneGroup142', 'expandBtn142', 'collapseBtn142')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup142"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const lat = Number.parseFloat(searchParams.get('lat') ?? '');
    const lng = Number.parseFloat(searchParams.get('lng') ?? '');
    const radiusKm = Number.parseFloat(searchParams.get('radius') || '5'); // 기본 5km</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\nearby-helpers\route.ts (Line 15:5 - Line 27:37), src\app\api\errands\nearby-helpers\list\route.ts (Line 26:5 - Line 38:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn143" onclick="toggleCodeBlock('cloneGroup143', 'expandBtn143', 'collapseBtn143')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup143"><code class="language-typescript text-sm text-gray-800">// 위치 파라미터 검증
    if (Number.isNaN(lat) || Number.isNaN(lng)) {
      return NextResponse.json({ error: '위치 정보가 필요합니다 (lat, lng)' }, { status: 400 });
    }

    // 위도/경도 범위 검사
    if (lat &lt; -90 || lat &gt; 90 || lng &lt; -180 || lng &gt; 180) {
      return NextResponse.json({ error: '위치 범위가 올바르지 않습니다' }, { status: 400 });
    }

    const supabase = await createClient();

    // PostgreSQL 함수 호출 시도 (마이그레이션 완료 시)</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\debug\personalized\route.ts (Line 48:2 - Line 59:8), src\app\api\mypage\recent-activities\route.ts (Line 29:5 - Line 40:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn144" onclick="toggleCodeBlock('cloneGroup144', 'expandBtn144', 'collapseBtn144')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup144"><code class="language-typescript text-sm text-gray-800">;
}

export async function GET() {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ success</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\debug\personalized\route.ts (Line 153:10 - Line 165:2), src\app\api\debug\rpc-test\route.ts (Line 52:2 - Line 64:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn145" onclick="toggleCodeBlock('cloneGroup145', 'expandBtn145', 'collapseBtn145')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup145"><code class="language-typescript text-sm text-gray-800">,
    });
  } catch (error) {
    return NextResponse.json(
      {
        success: false,
        error: error instanceof Error ? error.message : 'Unknown error',
        stack: error instanceof Error ? error.stack : undefined,
      },
      { status: 500 }
    );
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\unread-count\route.ts (Line 6:4 - Line 17:28), src\app\api\chat\messages\mark-all-read\route.ts (Line 6:5 - Line 17:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn146" onclick="toggleCodeBlock('cloneGroup146', 'expandBtn146', 'collapseBtn146')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup146"><code class="language-typescript text-sm text-gray-800">(_request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    // 1. 사용자가 참여한 모든 채팅방 ID 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\search\route.ts (Line 4:4 - Line 15:13), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:5 - Line 15:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn147" onclick="toggleCodeBlock('cloneGroup147', 'expandBtn147', 'collapseBtn147')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup147"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const { searchParams</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\rooms\route.ts (Line 153:1 - Line 164:20), src\app\api\chat\unread-count\route.ts (Line 6:1 - Line 17:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn148" onclick="toggleCodeBlock('cloneGroup148', 'expandBtn148', 'collapseBtn148')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup148"><code class="language-typescript text-sm text-gray-800">export async function GET(_request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    // 현재 사용자가 전문가인지 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\rooms\route.ts (Line 265:1 - Line 273:15), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:1 - Line 14:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn149" onclick="toggleCodeBlock('cloneGroup149', 'expandBtn149', 'collapseBtn149')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup149"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\rooms\route.ts (Line 265:8 - Line 276:6), src\app\api\chat\messages\mark-all-read\route.ts (Line 6:9 - Line 17:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn150" onclick="toggleCodeBlock('cloneGroup150', 'expandBtn150', 'collapseBtn150')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup150"><code class="language-typescript text-sm text-gray-800">: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\messages\route.ts (Line 3:15 - Line 16:2), src\app\api\chat\search\route.ts (Line 2:24 - Line 276:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn151" onclick="toggleCodeBlock('cloneGroup151', 'expandBtn151', 'collapseBtn151')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup151"><code class="language-typescript text-sm text-gray-800">;

export async function GET(request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\chat\messages\route.ts (Line 100:1 - Line 112:8), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:1 - Line 277:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn152" onclick="toggleCodeBlock('cloneGroup152', 'expandBtn152', 'collapseBtn152')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup152"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const body = await request.json();
    const { room_id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\auth\verify-identity\route.ts (Line 6:1 - Line 18:5), src\app\api\payments\direct-purchase\route.ts (Line 114:1 - Line 24:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn153" onclick="toggleCodeBlock('cloneGroup153', 'expandBtn153', 'collapseBtn153')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup153"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const body</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\auth\verify-identity\route.ts (Line 102:2 - Line 114:5), src\app\api\payments\direct-purchase\route.ts (Line 114:12 - Line 24:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn154" onclick="toggleCodeBlock('cloneGroup154', 'expandBtn154', 'collapseBtn154')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup154"><code class="language-typescript text-sm text-gray-800">) {
  try {
    const supabase = await createClient();
    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    const { data</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\categories\route.ts (Line 7:1 - Line 19:16), src\app\api\admin\analytics\devices\route.ts (Line 7:1 - Line 187:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn155" onclick="toggleCodeBlock('cloneGroup155', 'expandBtn155', 'collapseBtn155')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup155"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const { searchParams } = new URL(request.url);
    const includeInactive</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\categories\route.ts (Line 39:1 - Line 52:5), src\app\api\admin\advertising\credits\route.ts (Line 86:1 - Line 98:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn156" onclick="toggleCodeBlock('cloneGroup156', 'expandBtn156', 'collapseBtn156')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup156"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const body = await request.json();

    const { name</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\categories\route.ts (Line 92:1 - Line 105:3), src\app\api\admin\advertising\payments\route.ts (Line 303:1 - Line 98:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn157" onclick="toggleCodeBlock('cloneGroup157', 'expandBtn157', 'collapseBtn157')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup157"><code class="language-typescript text-sm text-gray-800">export async function PATCH(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const body = await request.json();

    const { id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\categories\route.ts (Line 149:7 - Line 161:3), src\app\api\admin\analytics\devices\route.ts (Line 7:4 - Line 187:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn158" onclick="toggleCodeBlock('cloneGroup158', 'expandBtn158', 'collapseBtn158')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup158"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const { searchParams } = new URL(request.url);
    const id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\analytics\route.ts (Line 139:5 - Line 150:7), src\app\api\admin\analytics\referrers\route.ts (Line 24:5 - Line 187:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn159" onclick="toggleCodeBlock('cloneGroup159', 'expandBtn159', 'collapseBtn159')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup159"><code class="language-typescript text-sm text-gray-800">const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const { searchParams } = new URL(request.url);

    const period = (searchParams.get('period') || 'day') as Period</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\analytics\route.ts (Line 197:1 - Line 209:6), src\app\api\admin\advertising\credits\route.ts (Line 86:1 - Line 98:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn160" onclick="toggleCodeBlock('cloneGroup160', 'expandBtn160', 'collapseBtn160')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup160"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = await createClient();
    const body = await request.json();
    const { limit</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\route.ts (Line 7:1 - Line 20:6), src\app\api\admin\analytics\devices\route.ts (Line 7:1 - Line 22:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn161" onclick="toggleCodeBlock('cloneGroup161', 'expandBtn161', 'collapseBtn161')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup161"><code class="language-typescript text-sm text-gray-800">export async function GET(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = createServiceRoleClient();
    const { searchParams } = new URL(request.url);

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\route.ts (Line 140:1 - Line 152:15), src\app\api\admin\advertising\payments\route.ts (Line 303:1 - Line 315:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn162" onclick="toggleCodeBlock('cloneGroup162', 'expandBtn162', 'collapseBtn162')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup162"><code class="language-typescript text-sm text-gray-800">export async function PATCH(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = createServiceRoleClient();
    const body = await request.json();
    const { subscriptionId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\admin\advertising\route.ts (Line 189:1 - Line 201:15), src\app\api\admin\categories\route.ts (Line 149:1 - Line 20:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn163" onclick="toggleCodeBlock('cloneGroup163', 'expandBtn163', 'collapseBtn163')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup163"><code class="language-typescript text-sm text-gray-800">export async function DELETE(request: NextRequest) {
  try {
    const adminCheck = await checkAdminAuth();
    if (!adminCheck.isAdmin) {
      return NextResponse.json(
        { error: adminCheck.error },
        { status: adminCheck.error === 'Unauthorized' ? 401 : 403 }
      );
    }

    const supabase = createServiceRoleClient();
    const { searchParams } = new URL(request.url);
    const subscriptionId</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\address\directions\route.ts (Line 53:7 - Line 59:11), src\app\api\address\directions\route.ts (Line 25:7 - Line 30:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn164" onclick="toggleCodeBlock('cloneGroup164', 'expandBtn164', 'collapseBtn164')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup164"><code class="language-typescript text-sm text-gray-800">const straightDistance = calculateDistance(originLat, originLng, destLat, destLng);
      const estimatedRoadDistance = straightDistance * 1.4;

      return NextResponse.json({
        distance: Math.round(estimatedRoadDistance * 1000),
        duration: Math.round((estimatedRoadDistance / 30) * 3600),
        distanceKm</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\address\directions\route.ts (Line 72:7 - Line 81:8), src\app\api\address\directions\route.ts (Line 25:7 - Line 62:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn165" onclick="toggleCodeBlock('cloneGroup165', 'expandBtn165', 'collapseBtn165')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup165"><code class="language-typescript text-sm text-gray-800">const straightDistance = calculateDistance(originLat, originLng, destLat, destLng);
      const estimatedRoadDistance = straightDistance * 1.4;

      return NextResponse.json({
        distance: Math.round(estimatedRoadDistance * 1000),
        duration: Math.round((estimatedRoadDistance / 30) * 3600),
        distanceKm: Math.round(estimatedRoadDistance * 10) / 10,
        durationMin: Math.round((estimatedRoadDistance / 30) * 60),
        estimated: true,
        noRoute</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\service-enrichment-helpers.ts (Line 86:5 - Line 99:4), src\lib\supabase\queries\services.ts (Line 351:7 - Line 362:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn167" onclick="toggleCodeBlock('cloneGroup167', 'expandBtn167', 'collapseBtn167')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup167"><code class="language-typescript text-sm text-gray-800">const stats = ratingMap.get(service.id);
    if (stats &amp;&amp; stats.count &gt; 0) {
      service.rating = stats.sum / stats.count;
      service.review_count = stats.count;
    } else {
      service.rating = 0;
      service.review_count = 0;
    }
  }
}

/**
 * Enrich services with seller user information
 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\search.ts (Line 188:2 - Line 197:6), src\lib\supabase\queries\service-enrichment-helpers.ts (Line 54:7 - Line 63:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn168" onclick="toggleCodeBlock('cloneGroup168', 'expandBtn168', 'collapseBtn168')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup168"><code class="language-typescript text-sm text-gray-800">;

  const serviceIds = services.map((s) =&gt; s.id);
  const { data: reviewStats } = await supabase
    .from('reviews')
    .select('service_id, rating')
    .in('service_id', serviceIds)
    .eq('is_visible', true);

  const</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\personalized-services.ts (Line 139:12 - Line 147:7), src\lib\supabase\queries\services.ts (Line 341:2 - Line 348:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn169" onclick="toggleCodeBlock('cloneGroup169', 'expandBtn169', 'collapseBtn169')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup169"><code class="language-typescript text-sm text-gray-800">) {
    const current = ratingMap.get(review.service_id) || { sum: 0, count: 0 };
    ratingMap.set(review.service_id, {
      sum: current.sum + review.rating,
      count: current.count + 1,
    });
  }

  return</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\personalized-services.ts (Line 219:3 - Line 227:10), src\lib\supabase\queries\services.ts (Line 374:3 - Line 382:22)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn170" onclick="toggleCodeBlock('cloneGroup170', 'expandBtn170', 'collapseBtn170')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup170"><code class="language-typescript text-sm text-gray-800">const serviceRoleClient = createServiceRoleClient();
  const { data: advertisingData } = await serviceRoleClient
    .from('advertising_subscriptions')
    .select('service_id')
    .eq('status', 'active');

  const advertisedServiceIds = advertisingData?.map((ad) =&gt; ad.service_id) || [];

  // 서비스 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\orders.ts (Line 15:11 - Line 28:16), src\lib\supabase\queries\services.ts (Line 64:12 - Line 77:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn171" onclick="toggleCodeBlock('cloneGroup171', 'expandBtn171', 'collapseBtn171')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup171"><code class="language-typescript text-sm text-gray-800">, userId)
    .order('created_at', { ascending: false });

  if (status &amp;&amp; status !== 'all') {
    query = query.eq('status', status);
  }

  const { data, error } = await query;

  if (error) throw error;
  return data;
}

export async function getSellerOrders</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\orders.ts (Line 39:5 - Line 53:13), src\lib\supabase\queries\services.ts (Line 63:5 - Line 77:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn172" onclick="toggleCodeBlock('cloneGroup172', 'expandBtn172', 'collapseBtn172')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup172"><code class="language-typescript text-sm text-gray-800">)
    .eq('seller_id', userId)
    .order('created_at', { ascending: false });

  if (status &amp;&amp; status !== 'all') {
    query = query.eq('status', status);
  }

  const { data, error } = await query;

  if (error) throw error;
  return data;
}

export async function getOrderById</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\orders.ts (Line 86:21 - Line 92:12), src\lib\supabase\queries\orders.ts (Line 73:20 - Line 79:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn173" onclick="toggleCodeBlock('cloneGroup173', 'expandBtn173', 'collapseBtn173')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup173"><code class="language-typescript text-sm text-gray-800">(userId: string, status: string) {
  const supabase = await createClient();

  const { count, error } = await supabase
    .from('orders')
    .select('*', { count: 'exact', head: true })
    .eq('seller_id'</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\admin.ts (Line 602:11 - Line 614:16), src\lib\supabase\queries\admin.ts (Line 526:9 - Line 538:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn174" onclick="toggleCodeBlock('cloneGroup174', 'expandBtn174', 'collapseBtn174')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup174"><code class="language-typescript text-sm text-gray-800">).select('*', { count: 'exact', head: true });

  if (status) {
    query = query.eq('status', status);
  }

  const { count, error } = await query;

  if (error) throw error;
  return count || 0;
}

// 관리자 리뷰 목록 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\supabase\queries\admin.ts (Line 720:20 - Line 732:16), src\lib\supabase\queries\admin.ts (Line 526:9 - Line 538:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn175" onclick="toggleCodeBlock('cloneGroup175', 'expandBtn175', 'collapseBtn175')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup175"><code class="language-typescript text-sm text-gray-800">).select('*', { count: 'exact', head: true });

  if (status) {
    query = query.eq('status', status);
  }

  const { count, error } = await query;

  if (error) throw error;
  return count || 0;
}

// 서비스 수정 요청 승인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\upload\route.ts (Line 17:5 - Line 26:6), src\app\api\user\category-visits\route.ts (Line 103:5 - Line 112:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn211" onclick="toggleCodeBlock('cloneGroup211', 'expandBtn211', 'collapseBtn211')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn211" onclick="toggleCodeBlock('cloneGroup211', 'expandBtn211', 'collapseBtn211')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup211"><code class="language-typescript text-sm text-gray-800">const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\portfolio\route.ts (Line 5:7 - Line 15:15), src\app\api\payments\direct-purchase\route.ts (Line 114:5 - Line 123:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn212" onclick="toggleCodeBlock('cloneGroup212', 'expandBtn212', 'collapseBtn212')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn212" onclick="toggleCodeBlock('cloneGroup212', 'expandBtn212', 'collapseBtn212')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup212"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: 'Unauthorized'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\portfolio\route.ts (Line 7:5 - Line 18:2), src\app\api\upload\route.ts (Line 16:5 - Line 26:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn213" onclick="toggleCodeBlock('cloneGroup213', 'expandBtn213', 'collapseBtn213')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn213" onclick="toggleCodeBlock('cloneGroup213', 'expandBtn213', 'collapseBtn213')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup213"><code class="language-typescript text-sm text-gray-800">const supabase = await createClient();

    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    const {</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payment-requests\route.ts (Line 2:24 - Line 19:8), src\app\api\payments\prepare\route.ts (Line 3:14 - Line 43:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn214" onclick="toggleCodeBlock('cloneGroup214', 'expandBtn214', 'collapseBtn214')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn214" onclick="toggleCodeBlock('cloneGroup214', 'expandBtn214', 'collapseBtn214')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup214"><code class="language-typescript text-sm text-gray-800">;
import { logger } from '@/lib/logger';
import { requireAuth } from '@/lib/api/auth';

export async function POST(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const body = await request.json();
    const { room_id</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\payment-requests\route.ts (Line 95:4 - Line 107:13), src\app\api\payments\advertising\verify\route.ts (Line 30:5 - Line 24:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn215" onclick="toggleCodeBlock('cloneGroup215', 'expandBtn215', 'collapseBtn215')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn215" onclick="toggleCodeBlock('cloneGroup215', 'expandBtn215', 'collapseBtn215')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup215"><code class="language-typescript text-sm text-gray-800">(request: NextRequest) {
  try {
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Authentication failed' }, { status: 401 });
    }

    const { searchParams</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\notifications\route.ts (Line 6:8 - Line 19:12), src\app\api\notifications\read-all\route.ts (Line 6:9 - Line 19:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn216" onclick="toggleCodeBlock('cloneGroup216', 'expandBtn216', 'collapseBtn216')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn216" onclick="toggleCodeBlock('cloneGroup216', 'expandBtn216', 'collapseBtn216')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup216"><code class="language-typescript text-sm text-gray-800">: NextRequest) {
  try {
    // 사용자 인증 확인
    const authResult = await requireAuth();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Internal server error' }, { status: 500 });
    }

    // URL 파라미터</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\route.ts (Line 6:1 - Line 18:59), src\app\api\seller\check\route.ts (Line 4:1 - Line 75:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn217" onclick="toggleCodeBlock('cloneGroup217', 'expandBtn217', 'collapseBtn217')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn217" onclick="toggleCodeBlock('cloneGroup217', 'expandBtn217', 'collapseBtn217')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup217"><code class="language-typescript text-sm text-gray-800">export async function GET() {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    // helper_profiles와 profiles 모두 user_id가 auth.users.id를 참조</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\route.ts (Line 89:1 - Line 101:14), src\app\api\chat\rooms\create-from-order\route.ts (Line 6:1 - Line 75:25)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn218" onclick="toggleCodeBlock('cloneGroup218', 'expandBtn218', 'collapseBtn218')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn218" onclick="toggleCodeBlock('cloneGroup218', 'expandBtn218', 'collapseBtn218')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup218"><code class="language-typescript text-sm text-gray-800">export async function POST(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    // 이미 헬퍼인지 확인</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\helper\route.ts (Line 161:1 - Line 173:15), src\app\api\helper\location\route.ts (Line 127:1 - Line 100:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn219" onclick="toggleCodeBlock('cloneGroup219', 'expandBtn219', 'collapseBtn219')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn219" onclick="toggleCodeBlock('cloneGroup219', 'expandBtn219', 'collapseBtn219')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup219"><code class="language-typescript text-sm text-gray-800">export async function PATCH(request: NextRequest) {
  try {
    const supabase = await createClient();

    const {
      data: { user },
    } = await supabase.auth.getUser();

    if (!user) {
      return NextResponse.json({ error: '로그인이 필요합니다' }, { status: 401 });
    }

    const { data: existingHelper</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\route.ts (Line 338:5 - Line 346:24), src\app\api\errands\[id]\applications\[appId]\route.ts (Line 90:5 - Line 98:24)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn220" onclick="toggleCodeBlock('cloneGroup220', 'expandBtn220', 'collapseBtn220')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn220" onclick="toggleCodeBlock('cloneGroup220', 'expandBtn220', 'collapseBtn220')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup220"><code class="language-typescript text-sm text-gray-800">// 사용자 인증 확인
    const authResult = await requireLogin();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Internal server error'</code></pre></div><div class="py-4"><p class="text-gray-600">src\app\api\errands\route.ts (Line 339:13 - Line 349:46), src\app\api\notifications\read-all\route.ts (Line 9:12 - Line 19:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn221" onclick="toggleCodeBlock('cloneGroup221', 'expandBtn221', 'collapseBtn221')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn221" onclick="toggleCodeBlock('cloneGroup221', 'expandBtn221', 'collapseBtn221')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup221"><code class="language-typescript text-sm text-gray-800">();
    if (!authResult.success) {
      return authResult.error!;
    }

    const { user, supabase } = authResult;
    if (!user || !supabase) {
      return NextResponse.json({ error: 'Internal server error' }, { status: 500 });
    }

    // profiles 테이블에서 사용자의 profile id 조회 (FK 참조용)</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\services\service-helpers.ts (Line 33:3 - Line 45:4), src\lib\supabase\queries\personalized-services.ts (Line 139:3 - Line 152:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn237" onclick="toggleCodeBlock('cloneGroup237', 'expandBtn237', 'collapseBtn237')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn237" onclick="toggleCodeBlock('cloneGroup237', 'expandBtn237', 'collapseBtn237')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup237"><code class="language-typescript text-sm text-gray-800">for (const review of reviewStats) {
    const current = ratingMap.get(review.service_id) || { sum: 0, count: 0 };
    ratingMap.set(review.service_id, {
      sum: current.sum + review.rating,
      count: current.count + 1,
    });
  }
  return ratingMap;
}

/**
 * 서비스 최종 포맷 변환 (rating 추가)
 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\services\service-helpers.ts (Line 80:17 - Line 88:2), src\lib\supabase\queries\personalized-services.ts (Line 157:9 - Line 165:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn238" onclick="toggleCodeBlock('cloneGroup238', 'expandBtn238', 'collapseBtn238')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn238" onclick="toggleCodeBlock('cloneGroup238', 'expandBtn238', 'collapseBtn238')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup238"><code class="language-typescript text-sm text-gray-800">.map((service) =&gt; {
    const stats = ratingMap.get(service.id);
    return {
      ...service,
      rating: stats &amp;&amp; stats.count &gt; 0 ? stats.sum / stats.count : 0,
      review_count: stats?.count || 0,
    } as unknown as Service;
  });
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\portone\identity.ts (Line 11:23 - Line 24:43), src\app\api\webhook\portone\payment\route.ts (Line 18:10 - Line 29:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn239" onclick="toggleCodeBlock('cloneGroup239', 'expandBtn239', 'collapseBtn239')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn239" onclick="toggleCodeBlock('cloneGroup239', 'expandBtn239', 'collapseBtn239')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup239"><code class="language-typescript text-sm text-gray-800">)}`,
    {
      method: 'GET',
      headers: {
        Authorization: `PortOne ${apiSecret}`,
        'Content-Type': 'application/json',
        Accept: 'application/json',
      },
    }
  );

  if (!response.ok) {
    const errorText = await response.text();
    logger.error('PortOne Identity Verification API error:'</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\errands\category.ts (Line 8:2 - Line 21:2), src\lib\errands\helpers.ts (Line 18:2 - Line 31:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn240" onclick="toggleCodeBlock('cloneGroup240', 'expandBtn240', 'collapseBtn240')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn240" onclick="toggleCodeBlock('cloneGroup240', 'expandBtn240', 'collapseBtn240')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup240"><code class="language-typescript text-sm text-gray-800">{
  const categoryMap: Record&lt;string, string&gt; = {
    DELIVERY: '배달',
    SHOPPING: '구매대행',
    MOVING: '이사/운반',
    QUEUEING: '줄서기',
    PET_CARE: '반려동물',
    CLEANING: '청소',
    BUG_CATCHING: '벌레 잡기',
    DOCUMENT: '서류',
    OTHER: '기타',
  };
  return categoryMap[category] || category;
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\api\errands-common.ts (Line 27:2 - Line 40:14), src\lib\api\payment-verify.ts (Line 30:23 - Line 43:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn241" onclick="toggleCodeBlock('cloneGroup241', 'expandBtn241', 'collapseBtn241')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn241" onclick="toggleCodeBlock('cloneGroup241', 'expandBtn241', 'collapseBtn241')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup241"><code class="language-typescript text-sm text-gray-800">);
  if (!authResult.success) {
    return { success: false, error: authResult.error! };
  }

  const { user, supabase } = authResult;
  if (!user || !supabase) {
    return {
      success: false,
      error: NextResponse.json({ error: 'Authentication failed' }, { status: 401 }),
    };
  }

  // 사용자 프로필 조회</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\api\chat-common.ts (Line 27:3 - Line 40:12), src\lib\api\errands-common.ts (Line 27:3 - Line 43:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn242" onclick="toggleCodeBlock('cloneGroup242', 'expandBtn242', 'collapseBtn242')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn242" onclick="toggleCodeBlock('cloneGroup242', 'expandBtn242', 'collapseBtn242')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup242"><code class="language-typescript text-sm text-gray-800">const authResult = await requireLogin();
  if (!authResult.success) {
    return { success: false, error: authResult.error! };
  }

  const { user, supabase } = authResult;
  if (!user || !supabase) {
    return {
      success: false,
      error: NextResponse.json({ error: 'Authentication failed' }, { status: 401 }),
    };
  }

  // 요청 본문 파싱</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\api\auth-middleware.ts (Line 19:2 - Line 30:7), src\app\api\payments\direct-purchase\route.ts (Line 115:2 - Line 126:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn243" onclick="toggleCodeBlock('cloneGroup243', 'expandBtn243', 'collapseBtn243')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn243" onclick="toggleCodeBlock('cloneGroup243', 'expandBtn243', 'collapseBtn243')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup243"><code class="language-typescript text-sm text-gray-800">{
    const supabase = await createClient();
    const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    return</code></pre></div><div class="py-4"><p class="text-gray-600">src\utils\orderCountApi.ts (Line 17:5 - Line 26:19), src\app\api\payments\direct-purchase\route.ts (Line 117:5 - Line 126:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn282" onclick="toggleCodeBlock('cloneGroup282', 'expandBtn282', 'collapseBtn282')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn282" onclick="toggleCodeBlock('cloneGroup282', 'expandBtn282', 'collapseBtn282')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup282"><code class="language-typescript text-sm text-gray-800">const {
      data: { user },
      error: authError,
    } = await supabase.auth.getUser();

    if (authError || !user) {
      return NextResponse.json({ error: '인증이 필요합니다' }, { status: 401 });
    }

    // 역할에 따라 필터 컬럼 선택</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\storage-utils-server.ts (Line 26:1 - Line 48:4), src\lib\storage-utils.ts (Line 33:1 - Line 56:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn283" onclick="toggleCodeBlock('cloneGroup283', 'expandBtn283', 'collapseBtn283')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn283" onclick="toggleCodeBlock('cloneGroup283', 'expandBtn283', 'collapseBtn283')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup283"><code class="language-typescript text-sm text-gray-800">export function extractBucketName(publicUrl: string): string | null {
  try {
    const url = new URL(publicUrl);
    const pathParts = url.pathname.split('/storage/v1/object/public/');
    if (pathParts.length &lt; 2) return null;

    const afterPublic = pathParts[1];
    const slashIndex = afterPublic.indexOf('/');
    if (slashIndex === -1) return afterPublic;

    return afterPublic.substring(0, slashIndex);
  } catch {
    return null;
  }
}

/**
 * Storage에서 이미지 삭제 (서버용)
 *
 * @param imageUrl - 삭제할 이미지의 공개 URL
 * @param bucket - Storage 버킷 이름 (옵션)
 * @returns 삭제 성공 여부
 */</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\storage-utils-server.ts (Line 88:27 - Line 96:6), src\lib\storage-utils.ts (Line 97:21 - Line 105:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn284" onclick="toggleCodeBlock('cloneGroup284', 'expandBtn284', 'collapseBtn284')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn284" onclick="toggleCodeBlock('cloneGroup284', 'expandBtn284', 'collapseBtn284')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup284"><code class="language-typescript text-sm text-gray-800">(
  imageUrls: (string | null | undefined)[],
  bucket: string
): Promise&lt;boolean&gt; {
  const validUrls = imageUrls.filter((url): url is string =&gt; !!url);
  if (validUrls.length === 0) return true;

  try {
    const supabase = await</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\storage-utils-server.ts (Line 96:2 - Line 117:2), src\lib\storage-utils.ts (Line 105:2 - Line 126:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn285" onclick="toggleCodeBlock('cloneGroup285', 'expandBtn285', 'collapseBtn285')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn285" onclick="toggleCodeBlock('cloneGroup285', 'expandBtn285', 'collapseBtn285')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup285"><code class="language-typescript text-sm text-gray-800">createClient();

    const filePaths = validUrls
      .map((url) =&gt; extractStoragePath(url))
      .filter((path): path is string =&gt; !!path);

    if (filePaths.length === 0) return true;

    const { error } = await supabase.storage.from(bucket).remove(filePaths);

    if (error) {
      logger.error('Failed to delete multiple images:', error);
      return false;
    }

    logger.info(`Successfully deleted ${filePaths.length} images from ${bucket}`);
    return true;
  } catch (error) {
    logger.error('Error deleting multiple images:', error);
    return false;
  }
}</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\geo.ts (Line 12:5 - Line 17:5), src\lib\supabase\queries\services.ts (Line 230:5 - Line 235:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn286" onclick="toggleCodeBlock('cloneGroup286', 'expandBtn286', 'collapseBtn286')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn286" onclick="toggleCodeBlock('cloneGroup286', 'expandBtn286', 'collapseBtn286')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup286"><code class="language-typescript text-sm text-gray-800">) * Math.PI) / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((lat1 * Math.PI) / 180) *
      Math.cos((lat2 * Math.PI) / 180) *
      Math.sin(dLng</code></pre></div><div class="py-4"><p class="text-gray-600">src\lib\errand-pricing.ts (Line 241:3 - Line 251:9), src\lib\errand-pricing.ts (Line 77:3 - Line 86:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn287" onclick="toggleCodeBlock('cloneGroup287', 'expandBtn287', 'collapseBtn287')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn287" onclick="toggleCodeBlock('cloneGroup287', 'expandBtn287', 'collapseBtn287')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup287"><code class="language-typescript text-sm text-gray-800">let weatherMultiplier = 1;
  if (weather === 'RAIN') {
    weatherMultiplier = PRICING_CONSTANTS.WEATHER_RAIN_MULTIPLIER;
  } else if (weather === 'SNOW') {
    weatherMultiplier = PRICING_CONSTANTS.WEATHER_SNOW_MULTIPLIER;
  } else if (weather === 'EXTREME') {
    weatherMultiplier = PRICING_CONSTANTS.WEATHER_EXTREME_MULTIPLIER;
  }

  const weatherSurcharge = Math.round(
    (basePrice + rangeFee</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="css-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">css</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div></section><!-- Add more sections for other formats and clone groups as needed--></main><footer class="bg-white shadow mt-8 py-4"><div class="container mx-auto px-4 text-center"><p class="text-sm text-gray-600">This report is generated by jscpd, an open-source copy/paste detector.</p><p class="text-sm text-gray-600">jscpd is licensed under the MIT License.</p><a class="text-blue-500 text-sm" href="https://github.com/kucherenko/jscpd" target="_blank" rel="noopener noreferrer">View jscpd on GitHub</a></div></footer><script src="js/prism.js"></script><script>function toggleCodeBlock(codeBlockId, expandBtnId, collapseBtnId) {
  const codeBlock = document.getElementById(codeBlockId);
  const expandBtn = document.getElementById(expandBtnId);
  const collapseBtn = document.getElementById(collapseBtnId);

  codeBlock.classList.toggle('hidden');
  expandBtn.classList.toggle('hidden');
  collapseBtn.classList.toggle('hidden');
}</script></body></html>